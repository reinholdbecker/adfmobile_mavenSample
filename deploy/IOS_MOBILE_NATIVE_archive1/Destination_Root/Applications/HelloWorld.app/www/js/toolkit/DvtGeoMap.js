var DvtGeographicMap=function(a,b){this.Init(a,b)};DvtObj.createSubclass(DvtGeographicMap,DvtObj,"DvtGeographicMap");DvtGeographicMap.MAP_PROVIDER_ORACLE="oraclemaps";DvtGeographicMap.MAP_PROVIDER_GOOGLE="googlemaps";DvtGeographicMap.MAP_VIEWER_URL="http://elocation.oracle.com/mapviewer";DvtGeographicMap.BASE_MAP="ELOCATION_MERCATOR.WORLD_MAP";
DvtGeographicMap.prototype.Init=function(a,b){this._callback=a;this._callbackObj=b;this.mapProvider=DvtGeographicMap.MAP_PROVIDER_GOOGLE;this.mapViewerUrl=DvtGeographicMap.MAP_VIEWER_URL;this.baseMap=DvtGeographicMap.BASE_MAP;this.selection=[];this.screenReaderMode=this.initialSelectionApplied=!1};DvtGeographicMap.newInstance=function(a,b,d){a=new DvtGeographicMap(a,b);a.setOptions(d);return a};DvtGeographicMap.prototype.getMapProvider=function(){return this.mapProvider};
DvtGeographicMap.prototype.setMapProvider=function(a){if(a==DvtGeographicMap.MAP_PROVIDER_ORACLE||a==DvtGeographicMap.MAP_PROVIDER_GOOGLE)this.mapProvider=a};DvtGeographicMap.prototype.getMapViewerUrl=function(){return this.mapViewerUrl};DvtGeographicMap.prototype.setMapViewerUrl=function(a){this.mapViewerUrl=a};DvtGeographicMap.prototype.getBaseMap=function(){return this.baseMap};DvtGeographicMap.prototype.setBaseMap=function(a){this.baseMap=a};
DvtGeographicMap.prototype.setOptions=function(a){this.Options=DvtGeographicMapDefaults.calcOptions(a)};DvtGeographicMap.prototype.getScreenReaderMode=function(){return this.screenReaderMode};DvtGeographicMap.prototype.setScreenReaderMode=function(a){this.screenReaderMode=a};DvtGeographicMap.prototype.__dispatchEvent=function(a){DvtEventDispatcher.dispatchEvent(this._callback,this._callbackObj,this,a)};
DvtGeographicMap.prototype.render=function(a,b,d,e){this.Data=b;this._width=d;this._height=e;DvtGeographicMapRenderer.render(this,a,d,e)};var DvtGeographicMapDefaults={};DvtObj.createSubclass(DvtGeographicMapDefaults,DvtObj,"DvtGeographicMapDefaults");DvtGeographicMapDefaults.VERSION_1={mapOptions:{mapType:"ROADMAP",zoomLevel:"14",centerX:"-98.57",centerY:"39.82",doubleClickBehavior:"zoomin"}};
DvtGeographicMapDefaults.calcOptions=function(a){var b=DvtGeographicMapDefaults._getDefaults(a);return a?DvtJSONUtils.merge(a,b):b};DvtGeographicMapDefaults._getDefaults=function(){return DvtJSONUtils.clone(DvtGeographicMapDefaults.VERSION_1)};var DvtGeographicMapRenderer={};DvtObj.createSubclass(DvtGeographicMapRenderer,DvtObj,"DvtGeographicMapRenderer");DvtGeographicMapRenderer.MAP_VIEWER_URL="http://elocation.oracle.com/mapviewer";DvtGeographicMapRenderer.ELOCATION_GEOCODER_URL="http://elocation.oracle.com/elocation/jslib/oracleelocation.js";
DvtGeographicMapRenderer.DEFAULT_ORACLE_MARKER_IMG="css/images/geomap/ball_ena.png";DvtGeographicMapRenderer.DEFAULT_ORACLE_MARKER_HOVER_IMG="css/images/geomap/ball_ovr.png";DvtGeographicMapRenderer.DEFAULT_ORACLE_MARKER_SELECT_IMG="css/images/geomap/ball_sel.png";DvtGeographicMapRenderer.DEFAULT_GOOGLE_MARKER_IMG="css/images/geomap/red-circle.png";DvtGeographicMapRenderer.DEFAULT_GOOGLE_MARKER_HOVER_IMG="css/images/geomap/ylw-circle.png";
DvtGeographicMapRenderer.DEFAULT_GOOGLE_MARKER_SELECT_IMG="css/images/geomap/blu-circle.png";DvtGeographicMapRenderer.MOUSE_OVER="mouseover";DvtGeographicMapRenderer.MOUSE_OUT="mouseout";DvtGeographicMapRenderer.CLICK="click";DvtGeographicMapRenderer.SEL_NONE="none";DvtGeographicMapRenderer.SEL_SINGLE="single";DvtGeographicMapRenderer.SEL_MULTIPLE="multiple";
DvtGeographicMapRenderer.render=function(a,b,d,e){var g=a.getMapProvider();g==DvtGeographicMap.MAP_PROVIDER_ORACLE?DvtGeographicMapRenderer.renderOracleMap(a,b,d,e):g==DvtGeographicMap.MAP_PROVIDER_GOOGLE&&DvtGeographicMapRenderer.renderGoogleMap(a,b,d,e);!0==a.getScreenReaderMode()&&DvtGeographicMapRenderer.renderMarkerText(a,b)};
DvtGeographicMapRenderer.renderMarkerText=function(a,b){var d=a.Data,e=a.Options,g="";e.mapOptions.shortDesc&&(g=e.mapOptions.shortDesc+": ");d=d.dataLayers;for(e=0;e<d.length;e++)for(var h=d[e].data,k=0;k<h.length;k++)g+=DvtGeographicMapRenderer.getTooltip(h[k])+", ";d=g.length;2<=d&&(g=g.substring(0,d-2));d=document.createElement("div");d.innerHTML=g;b.parentNode.appendChild(d)};
DvtGeographicMapRenderer.renderOracleMap=function(a,b){var d=a.Options,e=a.Data,g=a.getMapViewerUrl(),h=a.getBaseMap(),k=d.mapOptions.centerX,m=d.mapOptions.centerY,n=parseInt(d.mapOptions.zoomLevel),o="recenter",q=this,k=q.center?q.center:MVSdoGeometry.createPoint(parseFloat(k),parseFloat(m),8307),s=new MVMapView(b,g);s.addMapTileLayer(new MVBaseMap(h));s.setCenter(k);s.setZoomLevel(n);s.removeAllFOIs();g=!0;DvtGeographicMapRenderer._mapIncludesData(a)?d.mapOptions.initialZooming&&(g="none"==d.mapOptions.initialZooming?
!1:!0):g=!1;void 0!==d.mapOptions.doubleClickBehavior&&(o=d.mapOptions.doubleClickBehavior);s.setDoubleClickAction(o);s.setTouchBehavior({touchHold:"mouse_over"});s.attachEventListener(MVEvent.RECENTER,function(){d.mapOptions.initialZooming="none";q.center=s.getCenter()});s.attachEventListener(MVEvent.ZOOM_LEVEL_CHANGE,function(){d.mapOptions.initialZooming="none";d.mapOptions.zoomLevel=""+s.getZoomLevel()});DvtGeographicMapRenderer.setOracleMapDataLayer(a,s,e,g);s.display()};
DvtGeographicMapRenderer.setOracleMapDataLayer=function(a,b,d,e){for(var d=d.dataLayers,g=1E4,h=null,k=null,m=null,n=null,o=0;o<d.length;o++)for(var q=d[o],s=q.data,t=DvtGeographicMapRenderer._getSelectedRowKeys(a,q,o),u=0;u<s.length;u++){var v=DvtGeographicMapRenderer.getParams(s[u],DvtGeographicMap.MAP_PROVIDER_ORACLE),w=DvtGeographicMapRenderer.getSelMode(q),x=!1;v.selMode=w;v.dataLayerIdx=q.idx;if(w==DvtGeographicMapRenderer.SEL_SINGLE||w==DvtGeographicMapRenderer.SEL_MULTIPLE)x=-1!=t.indexOf(s[u]._rowKey)?
!0:!1;if(s[u].x&&s[u].y)DvtGeographicMapRenderer.addPointFOI(a,b,s[u],g++,v,x),h=DvtGeographicMapRenderer.getMin(h,parseFloat(s[u].x)),k=DvtGeographicMapRenderer.getMax(k,parseFloat(s[u].x)),m=DvtGeographicMapRenderer.getMin(m,parseFloat(s[u].y)),n=DvtGeographicMapRenderer.getMax(n,parseFloat(s[u].y)),e&&o==d.length-1&&u==s.length-1&&b.zoomToRectangle(MVSdoGeometry.createRectangle(h,m,k,n,8307));else if(s[u].address){var w=s[u].address,y=function(d){return function(o){0==o.length?console.log("No matching address found!"):
(o=o[0],DvtGeographicMapRenderer.addPointFOI(a,b,o,g++,d,x),h=DvtGeographicMapRenderer.getMin(h,parseFloat(o.x)),k=DvtGeographicMapRenderer.getMax(k,parseFloat(o.x)),m=DvtGeographicMapRenderer.getMin(m,parseFloat(o.y)),n=DvtGeographicMapRenderer.getMax(n,parseFloat(o.y)),e&&b.zoomToRectangle(MVSdoGeometry.createRectangle(h,m,k,n,8307)))}},z=DvtGeographicMapRenderer.ELOCATION_GEOCODER_URL,A=function(a,b){return function(){dvtm.geoCoderAPILoaded=!0;(new OracleELocation).geocode(a,y(b))}};dvtm.geoCoderAPILoaded?
(new OracleELocation).geocode(w,y(v)):dvtm.loadJS(z,A(w,v))}}a.initialSelectionApplied=!0};
DvtGeographicMapRenderer.addPointFOI=function(a,b,d,e,g,h){var k=g.action,m=g.selMode,n=g.dataLayerIdx,o;o=h?g.sourceSelected:g.source;d=MVSdoGeometry.createPoint(parseFloat(d.x),parseFloat(d.y),8307);e=MVFOI.createMarkerFOI(e.toString(),d,o);g.tooltip&&e.setInfoTip(g.tooltip);m==DvtGeographicMapRenderer.SEL_SINGLE||m==DvtGeographicMapRenderer.SEL_MULTIPLE?(DvtGeographicMapRenderer.attachEventListener(a,e,DvtGeographicMapRenderer.MOUSE_OVER,g),DvtGeographicMapRenderer.attachEventListener(a,e,DvtGeographicMapRenderer.MOUSE_OUT,
g),DvtGeographicMapRenderer.attachEventListener(a,e,DvtGeographicMapRenderer.CLICK,g),h&&(h=a.selection[n],void 0===h&&(h=a.selection[n]=[]),e.selected=!0,e.rowKey=g.rowKey,e.dataLayerIdx=n,h.push(e))):k&&e.attachEventListener(MVEvent.MOUSE_CLICK,function(){var b=new DvtMapActionEvent(g.clientId,g.rowKey,k);b.addParam("dataLayerIdx",g.dataLayerIdx);a.__dispatchEvent(b)});b.addFOI(e)};
DvtGeographicMapRenderer.attachEventListener=function(a,b,d,e){switch(d){case DvtGeographicMapRenderer.MOUSE_OVER:b.attachEventListener(MVEvent.MOUSE_OVER,function(){b.selected?b.updateImageURL(e.sourceHoverSelected):b.updateImageURL(e.sourceHover)});break;case DvtGeographicMapRenderer.MOUSE_OUT:b.attachEventListener(MVEvent.MOUSE_OUT,function(){b.selected||b.updateImageURL(e.source)});break;case DvtGeographicMapRenderer.CLICK:b.attachEventListener(MVEvent.MOUSE_CLICK,function(){var d=e.dataLayerIdx,
h;a.selection[d]||(a.selection[d]=[]);h=e.selMode;if(b.selected)if(b.updateImageURL(e.sourceHover),b.selected=!1,h==DvtGeographicMapRenderer.SEL_SINGLE)a.selection[d]=[];else{if(h==DvtGeographicMapRenderer.SEL_MULTIPLE)for(h=0;h<a.selection[d].length;h++)if(b.getId()==a.selection[d][h].getId()){a.selection[d].splice(h,1);break}}else{var k=a.selection[d];if(h==DvtGeographicMapRenderer.SEL_SINGLE&&0!=k.length){for(h=0;h<k.length;h++)k[h].updateImageURL(e.source),k[h].selected=!1;a.selection[d]=[]}b.updateImageURL(e.sourceSelected);
b.selected=!0;b.rowKey=e.rowKey;b.dataLayerIdx=d;a.selection[d].push(b)}k=new DvtSelectionEvent(a.selection[d]);k.addParam("dataLayerIdx",d);a.__dispatchEvent(k)})}};
DvtGeographicMapRenderer.renderGoogleMap=function(a,b){var d=a.Options,e=a.Data,g="";switch(d.mapOptions.mapType){case "ROADMAP":g=google.maps.MapTypeId.ROADMAP;break;case "SATELLITE":g=google.maps.MapTypeId.SATELLITE;break;case "HYBRID":g=google.maps.MapTypeId.HYBRID;break;case "TERRAIN":g=google.maps.MapTypeId.TERRAIN;break;default:g=google.maps.MapTypeId.ROADMAP}var h=!0;DvtGeographicMapRenderer._mapIncludesData(a)?d.mapOptions.initialZooming&&(h="none"==d.mapOptions.initialZooming?!1:!0):h=!1;
var k="none";d.mapOptions.animationOnDisplay&&(k=d.mapOptions.animationOnDisplay);var m;this._firstTime=!1;if(h)a._googlemap||(this._firstTime=!0,a._googlemap=new google.maps.Map(b)),m=a._googlemap,m.setMapTypeId(g);else{var n=parseFloat(d.mapOptions.centerX),o=parseFloat(d.mapOptions.centerY);if(!a._googlemap){this._firstTime=!0;var q={};q.mapTypeId=g;a._googlemap=new google.maps.Map(b,q)}m=a._googlemap;m.setCenter(new google.maps.LatLng(o,n));m.setZoom(parseInt(d.mapOptions.zoomLevel))}DvtGeographicMapRenderer.setGoogleMapDataLayer(a,
m,e,h,k);google.maps.event.addListenerOnce(m,"idle",function(){var a=m.getCenter();google.maps.event.trigger(m,"resize");m.setCenter(a)})};
DvtGeographicMapRenderer.googleMapRenderEnd=function(a,b,d){for(var e=0;e<d.length;e++){var g=d[e];g&&DvtGeographicMapRenderer.processGoogleMapDataPoint(b,a,g.latLng,g.params,g.animation,g.initialZooming,g.selected)}this._bounds?(d=this._bounds.getNorthEast(),e=this._bounds.getSouthWest(),d.equals(e)?DvtGeographicMapRenderer.zoomToMarker(a,d,parseInt(b.Options.mapOptions.zoomLevel)):a.fitBounds(this._bounds),this._bounds=null):a.getZoom()||(d=parseFloat(b.Options.mapOptions.centerY),e=parseFloat(b.Options.mapOptions.centerX),
d=new google.maps.LatLng(d,e),DvtGeographicMapRenderer.zoomToMarker(a,d,2));this._firstTime&&(google.maps.event.addListener(a,"dragend",function(){var d=b.Options,e=a.getCenter();e&&(d.mapOptions.centerX=""+e.lng(),d.mapOptions.centerY=""+e.lat());var g=a.getZoom();g&&(d.mapOptions.zoomLevel=""+g);if(g||e)d.mapOptions.initialZooming="none"}),google.maps.event.addListener(a,"maptypeid_changed",function(){var d=b.Options;switch(a.getMapTypeId()){case google.maps.MapTypeId.ROADMAP:d.mapOptions.mapType=
"ROADMAP";break;case google.maps.MapTypeId.SATELLITE:d.mapOptions.mapType="SATELLITE";break;case google.maps.MapTypeId.HYBRID:d.mapOptions.mapType="HYBRID";break;case google.maps.MapTypeId.TERRAIN:d.mapOptions.mapType="TERRAIN";break;default:d.mapOptions.mapType="ROADMAP"}}))};DvtGeographicMapRenderer.processGoogleMapDataPoint=function(a,b,d,e,g,h,k){DvtGeographicMapRenderer.addMarker(a,b,d,e,g,k);h&&(this._bounds||(this._bounds=new google.maps.LatLngBounds(d,d)),this._bounds=this._bounds.extend(d))};
DvtGeographicMapRenderer.setGoogleMapDataLayer=function(a,b,d,e,g){this._bounds=null;d=d.dataLayers;this._jobCount=d.length;var h=[],k=0;if(this._currentMarkers){for(var m=0;m<this._currentMarkers.length;m++)this._currentMarkers[m]&&this._currentMarkers[m].setMap&&this._currentMarkers[m].setMap(null);this._currentMarkers.length=0}for(var m=void 0,n=0;n<d.length;n++){this._jobCount--;var o=d[n],q=o.data,s=DvtGeographicMapRenderer._getSelectedRowKeys(a,o,n);this._jobCount+=q.length;h.length+=q.length;
for(var t=0;t<q.length;t++){this._jobCount--;var u=DvtGeographicMapRenderer.getParams(q[t],a.getMapProvider()),v=DvtGeographicMapRenderer.getSelMode(o),w=!1;u.selMode=v;u.dataLayerIdx=o.idx;if(v==DvtGeographicMapRenderer.SEL_SINGLE||v==DvtGeographicMapRenderer.SEL_MULTIPLE)w=-1!=s.indexOf(q[t]._rowKey)?!0:!1;if(q[t].x&&q[t].y)v=new google.maps.LatLng(parseFloat(q[t].y),parseFloat(q[t].x)),h[k]={latLng:v,params:u,animation:g,initialZooming:e,selected:w};else if(q[t].address){v=q[t].address;void 0===
this._addresscache&&(this._addresscache={});var x=this._addresscache[v];if(x)h[k]={latLng:x,params:u,animation:g,initialZooming:e,selected:w};else{var y=this;this._jobCount++;void 0===m&&(m=new google.maps.Geocoder);m.geocode({address:v},function(d,k,m){return function(n,o){y._jobCount--;if(o==google.maps.GeocoderStatus.OK){var q=n[0].geometry.location;y._addresscache[m]=q;h[k]={latLng:q,params:d,animation:g,initialZooming:e,selected:w}}0==y._jobCount&&(DvtGeographicMapRenderer.googleMapRenderEnd(b,
a,h),y._jobCount=null)}}(u,k,v))}}k++}}0==this._jobCount&&(DvtGeographicMapRenderer.googleMapRenderEnd(b,a,h),this._jobCount=null,a.initialSelectionApplied=!0)};
DvtGeographicMapRenderer.addMarker=function(a,b,d,e,g,h){void 0===this._currentMarkers&&(this._currentMarkers=[]);var k=e.selMode,m=e.dataLayerIdx,n=e.action,o="";e.tooltip&&(o=e.tooltip);var q;q=h?new google.maps.MarkerImage(e.sourceSelected,null,null,null,new google.maps.Size(32,32)):new google.maps.MarkerImage(e.source,null,null,null,new google.maps.Size(32,32));d=new google.maps.Marker({position:d,icon:q,title:o});"auto"==g&&d.setAnimation(google.maps.Animation.DROP);d.setMap(b);this._currentMarkers.push(d);
k==DvtGeographicMapRenderer.SEL_SINGLE||k==DvtGeographicMapRenderer.SEL_MULTIPLE?(DvtGeographicMapRenderer.attachGMapEventListener(a,d,DvtGeographicMapRenderer.MOUSE_OVER,e),DvtGeographicMapRenderer.attachGMapEventListener(a,d,DvtGeographicMapRenderer.MOUSE_OUT,e),DvtGeographicMapRenderer.attachGMapEventListener(a,d,DvtGeographicMapRenderer.CLICK,e),h&&(b=a.selection[m],void 0===b&&(b=a.selection[m]=[]),d.selected=!0,d.rowKey=e.rowKey,d.dataLayerIdx=m,b.push(d))):n&&google.maps.event.addListener(d,
DvtGeographicMapRenderer.CLICK,function(){var b=new DvtMapActionEvent(e.clientId,e.rowKey,n);b.addParam("dataLayerIdx",e.dataLayerIdx);a.__dispatchEvent(b)})};
DvtGeographicMapRenderer.attachGMapEventListener=function(a,b,d,e){var g=new google.maps.MarkerImage(e.source,null,null,null,new google.maps.Size(32,32)),h=new google.maps.MarkerImage(e.sourceHover,null,null,null,new google.maps.Size(32,32)),k=new google.maps.MarkerImage(e.sourceSelected,null,null,null,new google.maps.Size(32,32)),m=new google.maps.MarkerImage(e.sourceHoverSelected,null,null,null,new google.maps.Size(32,32));switch(d){case DvtGeographicMapRenderer.MOUSE_OVER:google.maps.event.addListener(b,
DvtGeographicMapRenderer.MOUSE_OVER,function(){b.selected?b.setIcon(m):b.setIcon(h)});break;case DvtGeographicMapRenderer.MOUSE_OUT:google.maps.event.addListener(b,DvtGeographicMapRenderer.MOUSE_OUT,function(){b.selected||b.setIcon(g)});break;case DvtGeographicMapRenderer.CLICK:google.maps.event.addListener(b,DvtGeographicMapRenderer.CLICK,function(){var d=e.dataLayerIdx,h;a.selection[d]||(a.selection[d]=[]);h=e.selMode;if(b.selected)if(b.setIcon(g),b.selected=!1,h==DvtGeographicMapRenderer.SEL_SINGLE)a.selection[d]=
[];else{if(h==DvtGeographicMapRenderer.SEL_MULTIPLE)for(h=0;h<a.selection[d].length;h++)if(b.rowKey==a.selection[d][h].rowKey&&b.dataLayerIdx==a.selection[d][h].dataLayerIdx){a.selection[d].splice(h,1);break}}else{var m=a.selection[d];if(h==DvtGeographicMapRenderer.SEL_SINGLE&&0!=m.length){for(h=0;h<m.length;h++)m[h].setIcon(g),m[h].selected=!1;a.selection[d]=[]}b.setIcon(k);b.selected=!0;b.rowKey=e.rowKey;b.dataLayerIdx=d;a.selection[d].push(b)}m=new DvtSelectionEvent(a.selection[d]);m.addParam("dataLayerIdx",
d);a.__dispatchEvent(m)})}};DvtGeographicMapRenderer.zoomToMarker=function(a,b,d){a.setCenter(b);d&&a.setZoom(d)};
DvtGeographicMapRenderer.getParams=function(a,b){var d=DvtGeographicMapRenderer.getTooltip(a),e=DvtGeographicMapRenderer.getSource(a,b),g=DvtGeographicMapRenderer.getSourceHover(a,b),h=DvtGeographicMapRenderer.getSourceSelected(a,b),k=DvtGeographicMapRenderer.getSourceHoverSelected(a,b),m=a._rowKey,n=a.clientId,o={};o.source=e;o.sourceHover=g;o.sourceSelected=h;o.sourceHoverSelected=k;o.tooltip=d;a.action&&(o.action=a.action);o.rowKey=m;o.clientId=n;return o};
DvtGeographicMapRenderer.getSelMode=function(a){var b=DvtGeographicMapRenderer.SEL_NONE;a.dataSelection&&(b=a.dataSelection);return b};DvtGeographicMapRenderer.getTooltip=function(a){var b=null;a.shortDesc&&(b=a.shortDesc);return b};DvtGeographicMapRenderer.getSource=function(a,b){var d;a.source?d=a.source:b==DvtGeographicMap.MAP_PROVIDER_ORACLE?d=DvtGeographicMapRenderer.DEFAULT_ORACLE_MARKER_IMG:b==DvtGeographicMap.MAP_PROVIDER_GOOGLE&&(d=DvtGeographicMapRenderer.DEFAULT_GOOGLE_MARKER_IMG);return d};
DvtGeographicMapRenderer.getSourceSelected=function(a,b){var d;a.sourceSelected?d=a.sourceSelected:b==DvtGeographicMap.MAP_PROVIDER_ORACLE?d=DvtGeographicMapRenderer.DEFAULT_ORACLE_MARKER_SELECT_IMG:b==DvtGeographicMap.MAP_PROVIDER_GOOGLE&&(d=DvtGeographicMapRenderer.DEFAULT_GOOGLE_MARKER_SELECT_IMG);return d};
DvtGeographicMapRenderer.getSourceHover=function(a,b){var d;a.sourceHover?d=a.sourceHover:b==DvtGeographicMap.MAP_PROVIDER_ORACLE?d=DvtGeographicMapRenderer.DEFAULT_ORACLE_MARKER_HOVER_IMG:b==DvtGeographicMap.MAP_PROVIDER_GOOGLE&&(d=DvtGeographicMapRenderer.DEFAULT_GOOGLE_MARKER_HOVER_IMG);return d};
DvtGeographicMapRenderer.getSourceHoverSelected=function(a,b){var d;a.sourceHoverSelected?d=a.sourceHoverSelected:b==DvtGeographicMap.MAP_PROVIDER_ORACLE?d=DvtGeographicMapRenderer.DEFAULT_ORACLE_MARKER_SELECT_IMG:b==DvtGeographicMap.MAP_PROVIDER_GOOGLE&&(d=DvtGeographicMapRenderer.DEFAULT_GOOGLE_MARKER_SELECT_IMG);return d};DvtGeographicMapRenderer.getMin=function(a,b){if(null==a||a>b)a=b;return a};DvtGeographicMapRenderer.getMax=function(a,b){if(null==a||a<b)a=b;return a};
DvtGeographicMapRenderer._getSelectedRowKeys=function(a,b,d){var e=DvtGeographicMapRenderer.getSelMode(b),g=[];if(e==DvtGeographicMapRenderer.SEL_SINGLE||e==DvtGeographicMapRenderer.SEL_MULTIPLE)if(a.initialSelectionApplied){if(a=a.selection[d]){for(b=0;b<a.length;b++)g.push(a[b].rowKey);a.length=0}}else void 0!==b.selectedRowKeys&&(g=b.selectedRowKeys);return g};DvtGeographicMapRenderer._mapIncludesData=function(a){a=a.Data;return!a||!a.dataLayers||0==a.dataLayers.length?!1:!0};
var DvtMapActionEvent=function(a,b,d){this.Init(DvtMapActionEvent.TYPE);this._clientId=a;this._rowKey=b;this._action=d};DvtObj.createSubclass(DvtMapActionEvent,DvtBaseComponentEvent,"DvtMapActionEvent");DvtMapActionEvent.TYPE="action";DvtMapActionEvent.prototype.getClientId=function(){return this._clientId};DvtMapActionEvent.prototype.getRowKey=function(){return this._rowKey};DvtMapActionEvent.prototype.getAction=function(){return this._action};