var DvtSvgDocumentUtils=function(){};DvtObj.createSubclass(DvtSvgDocumentUtils,DvtDocumentUtils,"DvtSvgDocumentUtils");DvtSvgDocumentUtils.elementFromPoint=function(a,b){for(var d=DvtAgent.getAgent().elementFromPagePoint(a,b);d;){if(d._obj)return d._obj.getObj();d=d.parentNode}return null};DvtSvgDocumentUtils.elementFromTouch=function(a){return DvtAgent.getAgent().isChrome()?this.elementFromPoint(a.screenX,a.screenY):this.elementFromPoint(a.clientX,a.clientY)};
DvtSvgDocumentUtils.getStageRelativePosition=function(a,b,d){a=DvtSvgDocumentUtils.getStageAbsolutePosition(a);return new DvtPoint(b-a.x,d-a.y)};DvtSvgDocumentUtils.getPageRelativePosition=function(a,b,d){a=DvtSvgDocumentUtils.getStageAbsolutePosition(a);return new DvtPoint(b+a.x,d+a.y)};
DvtSvgDocumentUtils.getStageAbsolutePosition=function(a){var b=a=a.getImpl().getSVGRoot();window&&window.AdfAgent?b=a.parentNode:a.parentNode&&a.parentNode.firstChild==a&&(b=a.parentNode);b=DvtAgent.getAgent().getElementPosition(b);a=parseInt(b.x);b=parseInt(b.y);return new DvtPoint(a,b)};DvtSvgDocumentUtils.isFilterSupported=function(){var a=DvtAgent.getAgent();return a.getPlatform()!=DvtAgent.IE_PLATFORM&&!(a.isSafari()&&536>a.getVersion())&&!(a.isTouchDevice()&&!a.isSafari())};
DvtSvgDocumentUtils.isStrokeTimeoutRequired=function(){return DvtAgent.getAgent().isChrome()};DvtSvgDocumentUtils.isEventAvailableOutsideClip=function(){return DvtAgent.getAgent().isSafari()};DvtSvgDocumentUtils.isFilterStraightLineAdjustmentNeeded=function(){return DvtAgent.getAgent().isGecko()};DvtSvgDocumentUtils.fixWebkitFilters=function(a){a&&DvtAgent.getAgent().isWebkit()&&DvtSvgDocumentUtils._fixFilter(a)};
DvtSvgDocumentUtils.fixWebkitFiltersForDisplayable=function(a){if(a&&DvtAgent.getAgent().isWebkit()&&(a=a.getImpl().getElem()))for(a=a.parentNode;a&&a.getAttributeNS;){a.getAttributeNS(null,"filter")&&DvtSvgDocumentUtils._fixFilter(a);a=a.parentNode}};DvtSvgDocumentUtils._fixFilter=function(a){a.setAttributeNS(null,"transform",a.getAttributeNS(null,"transform"))};
DvtSvgDocumentUtils.cancelDomEvent=function(a){a&&(a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.cancel=!0,a.returnValue=!1)};var DvtSvgImageLoader={_cache:{}};DvtObj.createSubclass(DvtSvgImageLoader,DvtObj,"DvtSvgImageLoader");DvtSvgImageLoader.addBubbleEventListener=function(a,b,d){if(window.addEventListener)return a.addEventListener(b,d,!1),!0;return window.attachEvent?(a.attachEvent("on"+b,d),!0):!1};
DvtSvgImageLoader.loadImage=function(a,b){var d=this._cache[a];if(d)if(d._image)DvtSvgImageLoader._addListenerToQueue(d._listeners,b);else return b&&b(d),d;else this.loadNewImage(a,b);return null};
DvtSvgImageLoader.loadNewImage=function(a,b){var d=document.createElement("img"),e={_listeners:[],_image:d};b&&DvtSvgImageLoader._addListenerToQueue(e._listeners,b);this._cache[a]=e;DvtSvgImageLoader.addBubbleEventListener(d,"load",function(){e.width=d.width;e.height=d.height;delete e._image;var a,b=e._listeners.length;for(a=0;a<b;a++)if(e._listeners[a])e._listeners[a](e);delete e._listeners});d.src=a};
DvtSvgImageLoader._addListenerToQueue=function(a,b){if(b){for(var d=0;d<a.length;d++)if(a[d]===b)return;a.push(b)}};var DvtSvgBaseEvent=function(a){this.Init(a)};DvtObj.createSubclass(DvtSvgBaseEvent,DvtObj,"DvtSvgBaseEvent");DvtSvgBaseEvent.prototype.Init=function(a){this._event=a;this._isPropagationStopped=!1;this.target=DvtSvgBaseEvent.FindDisplayable(a.target);this.type=a.type};DvtSvgBaseEvent.prototype.getNativeEvent=function(){return this._event};DvtSvgBaseEvent.prototype.preventDefault=function(){this._event.preventDefault()};
DvtSvgBaseEvent.prototype.stopPropagation=function(){this._event.stopPropagation&&this._event.stopPropagation();this._event.cancelBubble=!0;this._event.cancel=!0;this._event.returnValue=!1;this._isPropagationStopped=!0};DvtSvgBaseEvent.prototype.isPropagationStopped=function(){return this._isPropagationStopped};DvtSvgBaseEvent.FindDisplayable=function(a){for(;a;){if(a._obj&&a._obj.getObj&&a._obj.getObj())return a._obj.getObj();a=a.parentNode}return null};var DvtSvgEventFactory={};
DvtObj.createSubclass(DvtSvgEventFactory,DvtObj,"DvtSvgEventFactory");DvtSvgEventFactory.newEvent=function(a,b){var d=a.type;if("touchstart"==d||"touchmove"==d||"touchend"==d||"touchcancel"==d)return new DvtSvgTouchEvent(a,b);if("keydown"==d||"keyup"==d)return new DvtSvgKeyboardEvent(a);b._nativeEvent!=a&&(b._nativeEvent=a,b._logicalEvent=new DvtSvgMouseEvent(a));return b._logicalEvent};
DvtSvgEventFactory.generateMouseEventFromKeyboardEvent=function(a,b,d,e,g,h){var k=null;document.createEvent&&(k=document.createEvent("MouseEvents"),e=DvtSvgDocumentUtils.getPageRelativePosition(e,g,h),k.initMouseEvent(d,!0,!0,window,1,e.x,e.y,e.x,e.y,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null));return k?(b=DvtSvgEventFactory.newEvent(k,b),b.target=a.target,b):null};var DvtSvgKeyboardEvent=function(a){this.Init(a)};DvtObj.createSubclass(DvtSvgKeyboardEvent,DvtKeyboardEvent,"DvtSvgKeyboardEvent");
DvtSvgKeyboardEvent.prototype.Init=function(a){DvtSvgKeyboardEvent.superclass.Init.call(this,a.type,a.bubbles,a.cancelable,a.view,a.charCode,a.keyCode,a.keyLocation,a.ctrlKey,a.altKey,a.shiftKey,a.repeat,a.locale);this._event=a};DvtSvgKeyboardEvent.prototype.getNativeEvent=function(){return this._event};DvtSvgKeyboardEvent.prototype.preventDefault=function(){this._event.preventDefault()};
DvtSvgKeyboardEvent.prototype.stopPropagation=function(){this._event.stopPropagation&&this._event.stopPropagation();this._event.cancelBubble=!0;this._event.cancel=!0;this._event.returnValue=!1};var DvtSvgMouseEvent=function(a){this.Init(a)};DvtObj.createSubclass(DvtSvgMouseEvent,DvtSvgBaseEvent,"DvtSvgMouseEvent");
DvtSvgMouseEvent.prototype.Init=function(a){DvtSvgMouseEvent.superclass.Init.call(this,a);null!=a.relatedTarget&&(this.relatedTarget=DvtSvgBaseEvent.FindDisplayable(a.relatedTarget));this.button=a.button;this.ctrlKey=a.ctrlKey||a.metaKey;this.shiftKey=a.shiftKey;this.pageX=a.pageX;this.pageY=a.pageY;this.wheelDelta=a.wheelDelta?a.wheelDelta/40:a.detail};var DvtSvgTouchEvent=function(a,b){this.Init(a,b)};DvtObj.createSubclass(DvtSvgTouchEvent,DvtSvgBaseEvent,"DvtSvgTouchEvent");
DvtSvgTouchEvent.prototype.Init=function(a,b){DvtSvgTouchEvent.superclass.Init.call(this,a);"touchcancel"==a.type&&(this.type="touchend");this._nativeTouches=a.touches;this._nativeTargetTouches=a.targetTouches;this._nativeChangedTouches=a.changedTouches;this.touches=DvtSvgTouchEvent.createTouchArray(a.touches);this.targetTouches=DvtSvgTouchEvent.createTouchArray(a.targetTouches);this.changedTouches=DvtSvgTouchEvent.createTouchArray(a.changedTouches);this._context=b};
DvtSvgTouchEvent.prototype.blockTouchHold=function(){this._event._touchHoldBlocked=!0};DvtSvgTouchEvent.prototype.isInitialTouch=function(){return 0==this.touches.length-this.changedTouches.length};DvtSvgTouchEvent.prototype.isTouchHoldBlocked=function(){return this._event._touchHoldBlocked?!0:!1};DvtSvgTouchEvent.createTouchArray=function(a){for(var b=[],d=0;d<a.length;d++){var e=new DvtTouch(a[d]);b.push(e)}return b};
DvtSvgTouchEvent.prototype.stopPropagation=function(){DvtSvgTouchEvent.superclass.stopPropagation.call(this);this._context.getTouchManager().postEventBubble(this)};var DvtHtmlRichTooltipManager=function(a){this.Init(a)};DvtObj.createSubclass(DvtHtmlRichTooltipManager,DvtHtmlTooltipManager,"DvtHtmlRichTooltipManager");DvtHtmlRichTooltipManager.prototype.Init=function(a){this._storedContexts={};DvtHtmlRichTooltipManager.superclass.Init.call(this,a)};
DvtHtmlRichTooltipManager.prototype.InitContent=function(a){var b=DvtSvgUtils.createSvgDocument("DvtCustomTooltip");this._storedContexts[this._domElementId]=new DvtSvgContext(b,"tooltipStage");a.innerHTML="";a.appendChild(b)};DvtHtmlRichTooltipManager.prototype.GetStoredContext=function(){return this._storedContexts[this._domElementId]};DvtHtmlRichTooltipManager.prototype.showRichElement=function(a,b,d,e){this.showRichElementAtPosition(a,b,d,e,!1,DvtHtmlTooltipManager.UNSTYLED_POPUP_CLASS)};
DvtHtmlRichTooltipManager.prototype.showRichElementAtPosition=function(a,b,d,e,g,h){var k=this.getTooltipElem();DvtHtmlTooltipManager.PrepElement(k,h);if(h=this.GetStoredContext()){h=h.getStage();h.removeChildren();var m=d.getRootDisplayable();h.addChild(m);d&&d.Render&&d.Render();h=h.getImpl().getSVGRoot();h.setAttributeNS(null,"width",d.getDisplayWidth());h.setAttributeNS(null,"height",d.getDisplayHeight());this.PostElement(k,a,b,g,e)}};
DvtHtmlRichTooltipManager.prototype.hideTooltip=function(){DvtHtmlRichTooltipManager.superclass.hideTooltip.call(this);var a=this.GetStoredContext();a&&a.getStage().removeChildren()};var DvtSvgImplFactory=function(a){this.Init(a)};DvtObj.createSubclass(DvtSvgImplFactory,DvtHtmlImplFactory,"DvtSvgImplFactory");DvtSvgImplFactory.prototype.newDefs=function(){return DvtSvgShapeUtils.createElement("defs")};DvtSvgImplFactory.prototype.newStage=function(a,b){return new DvtSvgStage(a,b)};
DvtSvgImplFactory.prototype.newContainer=function(a){return new DvtSvgContainer(a,"g")};DvtSvgImplFactory.prototype.newArc=function(a,b,d,e,g,h,k,m){return new DvtSvgArc(a,b,d,e,g,h,k,m)};DvtSvgImplFactory.prototype.newCircle=function(a,b,d,e){return new DvtSvgCircle(a,b,d,e)};DvtSvgImplFactory.prototype.newImage=function(a,b,d,e,g,h){return new DvtSvgImage(a,b,d,e,g,h)};DvtSvgImplFactory.prototype.newLine=function(a,b,d,e,g){return new DvtSvgLine(a,b,d,e,g)};
DvtSvgImplFactory.prototype.newMarker=function(a,b,d){return new DvtSvgMarker(a,b,d)};DvtSvgImplFactory.prototype.newOval=function(a,b,d,e,g){return new DvtSvgOval(a,b,d,e,g)};DvtSvgImplFactory.prototype.newPath=function(a,b){return new DvtSvgPath(a,b)};DvtSvgImplFactory.prototype.newPolygon=function(a,b){return new DvtSvgPolygon(a,b)};DvtSvgImplFactory.prototype.newPolyline=function(a,b){return new DvtSvgPolyline(a,b)};
DvtSvgImplFactory.prototype.newRect=function(a,b,d,e,g){return new DvtSvgRect(a,b,d,e,g)};DvtSvgImplFactory.prototype.newText=function(a,b,d,e){return new DvtSvgText(a,b,d,e)};DvtSvgImplFactory.prototype.Init=function(a){DvtSvgImplFactory.superclass.Init.call(this,a)};DvtSvgImplFactory.prototype.newTextArea=function(a,b,d){return new DvtSvgTextArea(a,b,d)};DvtSvgImplFactory.prototype.newTextFormatted=function(a,b,d){return new DvtSvgTextFormatted(a,b,d)};
DvtSvgImplFactory.prototype.getImageLoader=function(){return DvtSvgImageLoader};DvtSvgImplFactory.prototype.getDocumentUtils=function(){return DvtSvgDocumentUtils};var DvtSvgJsExt=function(){};DvtObj.createSubclass(DvtSvgJsExt,DvtJsExt,"DvtSvgJsExt");DvtSvgJsExt.prototype.sendPPRProperty=function(a,b,d){try{AdfPage.PAGE.findComponent(a).getPeer().setDVTPPRAttribute(b,d)}catch(e){}};DvtSvgJsExt.prototype.sendPPR=function(a){try{AdfPage.PAGE.findComponent(a).getPeer().sendToServerPPR({source:a})}catch(b){}};
DvtSvgJsExt.prototype.sendPPRNonBlocking=function(a){try{AdfPage.PAGE.findComponent(a).getPeer().sendToServerPPR3({source:a})}catch(b){}};DvtSvgJsExt.prototype.callJs=function(a){return eval(a)};DvtSvgJsExt.prototype.callJsWithParam=function(a,b){return eval(a)(b)};DvtSvgJsExt.prototype.getLogLevel=function(){return adf_dvt_fpGetLogLevel()};DvtSvgJsExt.prototype.log=function(a,b){adf_dvt_fpLogger(a,void 0===b?DvtJsExt.LOG_INFO:b)};DvtSvgJsExt.prototype.msg=function(a){adf_dvt_fpMsg(a)};
DvtSvgJsExt.prototype.perf=function(a,b){adf_dvt_fpPerfLogger(""+b+a)};DvtSvgJsExt.prototype.requestRefresh=function(){adf_dvt_fpRefresh()};DvtSvgJsExt.prototype.dispatchEvent=function(a,b,d,e){DvtEventDispatcher.dispatchEvent(a,b,d,e)};var DvtSvgFilterContext=function(){this.Init()};DvtObj.createSubclass(DvtSvgFilterContext,DvtObj,"DvtSvgFilterContext");
DvtSvgFilterContext.prototype.Init=function(){this._regionPctRect=new DvtRectangle(-10,-10,120,120);this._counter=0;this._resultIdsUnder=[];this._resultIdsOver=[]};DvtSvgFilterContext.prototype.getRegionPctRect=function(){return this._regionPctRect};DvtSvgFilterContext.prototype.getResultIdsUnder=function(){return this._resultIdsUnder};DvtSvgFilterContext.prototype.getResultIdsOver=function(){return this._resultIdsOver};
DvtSvgFilterContext.prototype.createResultId=function(a){a||(a="filtRes");return a+this._counter++};var DvtSvgFilterUtils=function(){};DvtObj.createSubclass(DvtSvgFilterUtils,DvtObj,"DvtSvgFilterUtils");DvtSvgFilterUtils._counter=0;
DvtSvgFilterUtils.createFilter=function(a,b){for(var d=DvtSvgShapeUtils.createElement("filter",DvtSvgFilterUtils.CreateFilterId()),e=new DvtSvgFilterContext,g=0;g<a.length;g++){var h=a[g];h&&DvtSvgFilterUtils.CreateFilterPrimitives(d,h,b,e)}var k=!1;if(b){var m=b.getElem().getBBox();if(m&&(g=m.width,h=m.height,0==h||0==g)){var n;b.getStroke&&(n=b.getStroke());k=10;n&&(k=n.getWidth());n=m.x;m=m.y;if(DvtSvgDocumentUtils.isFilterStraightLineAdjustmentNeeded()&&b instanceof DvtSvgPolyline){var o=DvtArrayUtils.copy(b.getPoints());
0==g&&(o[0]+=0.01);0==h&&(o[1]+=0.01);o=DvtSvgShapeUtils.convertPointsArray(o);b.getElem().setAttributeNS(null,"points",o)}0==h&&(h=2*k,m-=k);0==g&&(g=2*k,n-=k);d.setAttributeNS(null,"x",n);d.setAttributeNS(null,"y",m);d.setAttributeNS(null,"width",g);d.setAttributeNS(null,"height",h);d.setAttributeNS(null,"filterUnits","userSpaceOnUse");k=!0}}k||(-10!=e.getRegionPctRect().x&&"Infinity"!=e.getRegionPctRect().x&&"-Infinity"!=e.getRegionPctRect().x&&d.setAttributeNS(null,"x",e.getRegionPctRect().x+
"%"),-10!=e.getRegionPctRect().y&&"Infinity"!=e.getRegionPctRect().y&&"-Infinity"!=e.getRegionPctRect().y&&d.setAttributeNS(null,"y",e.getRegionPctRect().y+"%"),120!=e.getRegionPctRect().w&&"Infinity"!=e.getRegionPctRect().w&&"-Infinity"!=e.getRegionPctRect().w&&d.setAttributeNS(null,"width",e.getRegionPctRect().w+"%"),120!=e.getRegionPctRect().h&&"Infinity"!=e.getRegionPctRect().h&&"-Infinity"!=e.getRegionPctRect().h&&d.setAttributeNS(null,"height",e.getRegionPctRect().h+"%"));g=e.getResultIdsUnder().length;
h=e.getResultIdsOver().length;m=DvtSvgShapeUtils.createElement("feMerge");if(0<g)for(n=0;n<g;n++)k=DvtSvgShapeUtils.createElement("feMergeNode"),k.setAttributeNS(null,"in",e.getResultIdsUnder()[n]),m.appendChild(k);k=DvtSvgShapeUtils.createElement("feMergeNode");k.setAttributeNS(null,"in","SourceGraphic");m.appendChild(k);if(0<h)for(n=0;n<h;n++)k=DvtSvgShapeUtils.createElement("feMergeNode"),k.setAttributeNS(null,"in",e.getResultIdsOver()[n]),m.appendChild(k);d.appendChild(m);return d};
DvtSvgFilterUtils.CreateFilterPrimitives=function(a,b,d,e){b instanceof DvtShadow?DvtSvgShadowUtils.createFilterPrimitives(a,b,d,e):b instanceof DvtGlow?DvtSvgGlowUtils.createFilterPrimitives(a,b,d,e):b instanceof DvtBevel&&DvtSvgBevelUtils.createFilterPrimitives(a,b,d,e);return null};DvtSvgFilterUtils.CreateFilterId=function(){return"filt"+DvtSvgFilterUtils._counter++};var DvtSvgBevelUtils=function(){};DvtObj.createSubclass(DvtSvgBevelUtils,DvtObj,"DvtSvgBevelUtils");
DvtSvgBevelUtils.createFilter=function(a,b){var d=DvtSvgBevelUtils.CreateFilterElem(a),e=new DvtSvgFilterContext;DvtSvgBevelUtils.createFilterPrimitives(d,a,b,e);var g=DvtSvgShapeUtils.createElement("feMerge"),h;0<e.getResultIdsUnder().length&&(h=DvtSvgShapeUtils.createElement("feMergeNode"),h.setAttributeNS(null,"in",e.getResultIdsUnder()[0]),g.appendChild(h));h=DvtSvgShapeUtils.createElement("feMergeNode");h.setAttributeNS(null,"in","SourceGraphic");g.appendChild(h);0<e.getResultIdsOver().length&&
(h=DvtSvgShapeUtils.createElement("feMergeNode"),h.setAttributeNS(null,"in",e.getResultIdsOver()[0]),g.appendChild(h));d.appendChild(g);-10!=e.getRegionPctRect().x&&d.setAttributeNS(null,"x",e.getRegionPctRect().x+"%");-10!=e.getRegionPctRect().y&&d.setAttributeNS(null,"y",e.getRegionPctRect().y+"%");120!=e.getRegionPctRect().w&&d.setAttributeNS(null,"width",e.getRegionPctRect().w+"%");120!=e.getRegionPctRect().h&&d.setAttributeNS(null,"height",e.getRegionPctRect().h+"%");return d};
DvtSvgBevelUtils.createFilterPrimitives=function(a,b,d,e){b._type===DvtBevel.TYPE_INNER&&(d=d.getDimensions(d.getParent()),DvtSvgBevelUtils.CreateInnerFilterPrimitives2(a,b,e,d))};DvtSvgBevelUtils.CreateFilterElem=function(a){return DvtSvgShapeUtils.createElement("filter",a._Id)};
DvtSvgBevelUtils.CreateInnerFilterPrimitives2=function(a,b,d,e){var g=b._distance,h=b._angle,k=DvtColorUtils.getRed(b._hilightRgba),m=DvtColorUtils.getGreen(b._hilightRgba),n=DvtColorUtils.getBlue(b._hilightRgba),o=DvtColorUtils.getAlpha(b._hilightRgba),n=DvtColorUtils.makeRGB(k,m,n),m=DvtColorUtils.getRed(b._shadowRgba),q=DvtColorUtils.getGreen(b._shadowRgba),s=DvtColorUtils.getBlue(b._shadowRgba),k=DvtColorUtils.getAlpha(b._shadowRgba),m=DvtColorUtils.makeRGB(m,q,s),q=0.5*b._blurX,b=0.5*b._blurY;
e&&(s=100*(2*q/e.w),e=100*(2*b/e.h),d.getRegionPctRect().x>-s&&(d.getRegionPctRect().x=-s),d.getRegionPctRect().y>-e&&(d.getRegionPctRect().y=-e),d.getRegionPctRect().w<100+2*s&&(d.getRegionPctRect().w=100+2*s),d.getRegionPctRect().h<100+2*e&&(d.getRegionPctRect().h=100+2*e));e=DvtSvgShapeUtils.createElement("feGaussianBlur");e.setAttributeNS(null,"in","SourceAlpha");e.setAttributeNS(null,"stdDeviation",q+" "+b);b=d.createResultId("blur");e.setAttributeNS(null,"result",b);var h=h*Math.PI/180,q=g*
Math.cos(h),t=g*Math.sin(h),g=DvtSvgShapeUtils.createElement("feOffset");g.setAttributeNS(null,"dx",q);g.setAttributeNS(null,"dy",t);g.setAttributeNS(null,"in",b);s=d.createResultId("offset");g.setAttributeNS(null,"result",s);h=DvtSvgShapeUtils.createElement("feFlood");h.setAttributeNS(null,"in","SourceAlpha");h.setAttributeNS(null,"flood-opacity",o/3);h.setAttributeNS(null,"flood-color",n);n=d.createResultId("flood");h.setAttributeNS(null,"result",n);o=DvtSvgShapeUtils.createElement("feComposite");
o.setAttributeNS(null,"operator","out");o.setAttributeNS(null,"in",n);o.setAttributeNS(null,"in2",s);s=d.createResultId("comp");o.setAttributeNS(null,"result",s);n=DvtSvgShapeUtils.createElement("feComposite");n.setAttributeNS(null,"operator","in");n.setAttributeNS(null,"in",s);n.setAttributeNS(null,"in2","SourceGraphic");s=d.createResultId("comp");n.setAttributeNS(null,"result",s);var u=DvtSvgShapeUtils.createElement("feOffset");u.setAttributeNS(null,"dx",-q);u.setAttributeNS(null,"dy",-t);u.setAttributeNS(null,
"in",b);q=d.createResultId("offset");u.setAttributeNS(null,"result",q);b=DvtSvgShapeUtils.createElement("feFlood");b.setAttributeNS(null,"in","SourceAlpha");b.setAttributeNS(null,"flood-opacity",2*k);b.setAttributeNS(null,"flood-color",m);m=d.createResultId("flood");b.setAttributeNS(null,"result",m);k=DvtSvgShapeUtils.createElement("feComposite");k.setAttributeNS(null,"operator","out");k.setAttributeNS(null,"in",m);k.setAttributeNS(null,"in2",q);q=d.createResultId("comp");k.setAttributeNS(null,"result",
q);m=DvtSvgShapeUtils.createElement("feComposite");m.setAttributeNS(null,"operator","in");m.setAttributeNS(null,"in",q);m.setAttributeNS(null,"in2","SourceGraphic");q=d.createResultId("comp");m.setAttributeNS(null,"result",q);d.getResultIdsOver().push(s);d.getResultIdsOver().push(q);a.appendChild(e);a.appendChild(g);a.appendChild(h);a.appendChild(o);a.appendChild(n);a.appendChild(u);a.appendChild(b);a.appendChild(k);a.appendChild(m)};var DvtSvgGlowUtils=function(){};
DvtObj.createSubclass(DvtSvgGlowUtils,DvtObj,"DvtSvgGlowUtils");
DvtSvgGlowUtils.createFilter=function(a,b){var d=DvtSvgGlowUtils.CreateFilterElem(a),e=new DvtSvgFilterContext;DvtSvgGlowUtils.createFilterPrimitives(d,a,b,e);var g=DvtSvgShapeUtils.createElement("feMerge"),h;0<e.getResultIdsUnder().length&&(h=DvtSvgShapeUtils.createElement("feMergeNode"),h.setAttributeNS(null,"in",e.getResultIdsUnder()[0]),g.appendChild(h));h=DvtSvgShapeUtils.createElement("feMergeNode");h.setAttributeNS(null,"in","SourceGraphic");g.appendChild(h);0<e.getResultIdsOver().length&&
(h=DvtSvgShapeUtils.createElement("feMergeNode"),h.setAttributeNS(null,"in",e.getResultIdsOver()[0]),g.appendChild(h));d.appendChild(g);-10!=e.getRegionPctRect().x&&d.setAttributeNS(null,"x",e.getRegionPctRect().x+"%");-10!=e.getRegionPctRect().y&&d.setAttributeNS(null,"y",e.getRegionPctRect().y+"%");120!=e.getRegionPctRect().w&&d.setAttributeNS(null,"width",e.getRegionPctRect().w+"%");120!=e.getRegionPctRect().h&&d.setAttributeNS(null,"height",e.getRegionPctRect().h+"%");return d};
DvtSvgGlowUtils.createFilterPrimitives=function(a,b,d,e){b._bInner?DvtSvgGlowUtils.CreateInnerFilterPrimitives2(a,b,e):(d=d.getDimensions(d.getParent()),DvtSvgGlowUtils.CreateOuterFilterPrimitives(a,b,e,d))};DvtSvgGlowUtils.CreateFilterElem=function(a){return DvtSvgShapeUtils.createElement("filter",a._Id)};
DvtSvgGlowUtils.CreateOuterFilterPrimitives=function(a,b,d,e){var g=b._rgba,h=DvtColorUtils.getRed(g)/255,k=DvtColorUtils.getGreen(g)/255,m=DvtColorUtils.getBlue(g)/255,n=DvtColorUtils.getAlpha(g),g=b._strength,o=b._blurX/3,b=b._blurY/3;if(e){var q=100*(2*o/e.w),e=100*(2*b/e.h);d.getRegionPctRect().x>-q&&(d.getRegionPctRect().x=-q);d.getRegionPctRect().y>-e&&(d.getRegionPctRect().y=-e);d.getRegionPctRect().w<100+2*q&&(d.getRegionPctRect().w=100+2*q);d.getRegionPctRect().h<100+2*e&&(d.getRegionPctRect().h=
100+2*e)}e=DvtSvgShapeUtils.createElement("feColorMatrix");e.setAttributeNS(null,"in","SourceGraphic");e.setAttributeNS(null,"type","matrix");e.setAttributeNS(null,"values","0 0 0 "+h+" 0 0 0 0 "+k+" 0 0 0 0 "+m+" 0 0 0 0 "+n+" 0");h=DvtSvgShapeUtils.createElement("feGaussianBlur");h.setAttributeNS(null,"stdDeviation",o+" "+b);k=d.createResultId("blur");h.setAttributeNS(null,"result",k);var s,t;1!=g&&(s=DvtSvgShapeUtils.createElement("feComponentTransfer"),s.setAttributeNS(null,"in",k),t=d.createResultId("compTran"),
s.setAttributeNS(null,"result",t),m=DvtSvgShapeUtils.createElement("feFuncA"),m.setAttributeNS(null,"type","linear"),m.setAttributeNS(null,"slope",""+g),s.appendChild(m));t?d.getResultIdsUnder().push(t):d.getResultIdsUnder().push(k);a.appendChild(e);a.appendChild(h);s&&a.appendChild(s)};
DvtSvgGlowUtils.CreateInnerFilterPrimitives2=function(a,b,d){var e=DvtColorUtils.getRed(b._rgba),g=DvtColorUtils.getGreen(b._rgba),h=DvtColorUtils.getBlue(b._rgba),k=DvtColorUtils.getAlpha(b._rgba),h=DvtColorUtils.makeRGB(e,g,h),e=b._strength,g=b._blurX/2,m=b._blurY/2,b=DvtSvgShapeUtils.createElement("feFlood");b.setAttributeNS(null,"in","SourceGraphic");b.setAttributeNS(null,"flood-opacity",k);b.setAttributeNS(null,"flood-color",h);h=d.createResultId("flood");b.setAttributeNS(null,"result",h);k=
DvtSvgShapeUtils.createElement("feComposite");k.setAttributeNS(null,"operator","out");k.setAttributeNS(null,"in",h);k.setAttributeNS(null,"in2","SourceGraphic");var n=d.createResultId("comp");k.setAttributeNS(null,"result",n);h=DvtSvgShapeUtils.createElement("feGaussianBlur");h.setAttributeNS(null,"in",n);h.setAttributeNS(null,"stdDeviation",g+" "+m);g=d.createResultId("blur");h.setAttributeNS(null,"result",g);var o,q;1!=e&&(o=DvtSvgShapeUtils.createElement("feComponentTransfer"),o.setAttributeNS(null,
"in",g),q=d.createResultId("compTran"),o.setAttributeNS(null,"result",q),m=DvtSvgShapeUtils.createElement("feFuncA"),m.setAttributeNS(null,"type","linear"),m.setAttributeNS(null,"slope",""+e),o.appendChild(m));e=DvtSvgShapeUtils.createElement("feComposite");e.setAttributeNS(null,"operator","in");q?e.setAttributeNS(null,"in",q):e.setAttributeNS(null,"in",g);e.setAttributeNS(null,"in2","SourceGraphic");q=d.createResultId("comp");e.setAttributeNS(null,"result",q);d.getResultIdsOver().push(q);a.appendChild(b);
a.appendChild(k);a.appendChild(h);o&&a.appendChild(o);a.appendChild(e)};var DvtSvgGradientUtils=function(){};DvtObj.createSubclass(DvtSvgGradientUtils,DvtObj,"DvtSvgGradientUtils");
DvtSvgGradientUtils.createElem=function(a,b){var d=a instanceof DvtLinearGradientFill||a instanceof DvtLinearGradientStroke,e=DvtSvgShapeUtils.createElement(d?"linearGradient":"radialGradient",b),g,h=a.getColors(),k=a.getAlphas(),m=a.getStops(),n=a.getBounds(),o=h.length;for(g=0;g<o;g++){var q=DvtSvgShapeUtils.createElement("stop");q.setAttributeNS(null,"offset",""+100*m[g]+"%");var s=h[g];if(s){var t=k[g];DvtAgent.getAgent().isSafari()&&-1!==s.indexOf("rgba")?(q.setAttributeNS(null,"stop-color",
DvtColorUtils.getRGB(s)),null!=t?q.setAttributeNS(null,"stop-opacity",DvtColorUtils.getAlpha(s)*t):q.setAttributeNS(null,"stop-opacity",DvtColorUtils.getAlpha(s))):(q.setAttributeNS(null,"stop-color",s),null!=t&&q.setAttributeNS(null,"stop-opacity",t))}e.appendChild(q)}q=!n||0==n[0]&&0==n[1]&&0==n[2]&&0==n[3];if(d){o=a.getAngle();g=d="0%";h="100%";k="0%";m=!0;if(q)45===o?h=g="100%":90===o?(g="100%",h="0%"):135===o?(d="100%",h="0%",k="100%"):270===o?(h="0%",k="100%"):0!==o&&(e.setAttributeNS(null,
"gradientTransform","rotate("+-o+" .5 .5)"),m=!1);else{e.setAttributeNS(null,"gradientUnits","userSpaceOnUse");d="0";g="0.5";var h="1",k="0.5",s=n[2],t=n[3],q=n[0],n=n[1],u="translate("+q+" "+n+")",o="scale("+s+" "+t+") "+("rotate("+-o+" .5 .5)");if(0!=q||0!=n)o=u+" "+o;e.setAttributeNS(null,"gradientTransform",o)}m&&(e.setAttributeNS(null,"x1",d),e.setAttributeNS(null,"y1",g),e.setAttributeNS(null,"x2",h),e.setAttributeNS(null,"y2",k))}else q||(e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),
e.setAttributeNS(null,"cx",a.getCx()),e.setAttributeNS(null,"cy",a.getCy()),e.setAttributeNS(null,"fx",a.getCx()),e.setAttributeNS(null,"fy",a.getCy()),e.setAttributeNS(null,"r",a.getRadius()));return e};var DvtSvgImageFillUtils=function(){};DvtObj.createSubclass(DvtSvgImageFillUtils,DvtObj,"DvtSvgImageFillUtils");
DvtSvgImageFillUtils.createElem=function(a,b){var d=DvtSvgShapeUtils.createElement("pattern",b),e=DvtSvgShapeUtils.createElement("image",b),g=a.getSrc(),h=a.getBound();a.getRepeat();h&&(d.setAttributeNS(null,"x",h.x),d.setAttributeNS(null,"y",h.y),e.setAttributeNS(null,"x",h.x),e.setAttributeNS(null,"y",h.y),d.setAttributeNS(null,"width",h.w),d.setAttributeNS(null,"height",h.h),e.setAttributeNS(null,"width",h.w),e.setAttributeNS(null,"height",h.h),d.setAttributeNS(null,"patternUnits","userSpaceOnUse"),
g&&e.setAttributeNS(DvtSvgImage.XLINK_NS,"xlink:href",g));d.appendChild(e);return d};var DvtSvgPatternFillUtils=function(){};DvtObj.createSubclass(DvtSvgPatternFillUtils,DvtObj,"DvtSvgPatternFillUtils");DvtSvgPatternFillUtils._SM_WIDTH=8;DvtSvgPatternFillUtils._SM_HEIGHT=8;DvtSvgPatternFillUtils._LG_WIDTH=16;DvtSvgPatternFillUtils._LG_HEIGHT=16;
DvtSvgPatternFillUtils.createElem=function(a,b){var d=DvtSvgShapeUtils.createElement("pattern",b),e=a.getPattern(),g;DvtSvgPatternFillUtils.IsSmallPattern(e)?(e=DvtSvgPatternFillUtils._SM_WIDTH,g=DvtSvgPatternFillUtils._SM_HEIGHT):(e=DvtSvgPatternFillUtils._LG_WIDTH,g=DvtSvgPatternFillUtils._LG_HEIGHT);d.setAttributeNS(null,"x",0);d.setAttributeNS(null,"y",0);d.setAttributeNS(null,"width",e);d.setAttributeNS(null,"height",g);d.setAttributeNS(null,"patternUnits","userSpaceOnUse");if(e=a.getMatrix())e=
"matrix("+e.getA()+","+e.getC()+","+e.getB()+","+e.getD()+","+e.getTx()+","+e.getTy()+")",d.setAttributeNS(null,"patternTransform",e);DvtSvgPatternFillUtils.CreatePatternElems(a,d);return d};DvtSvgPatternFillUtils.IsSmallPattern=function(a){return"s"===a.charAt(0)};
DvtSvgPatternFillUtils.CreatePatternElems=function(a,b){var d,e,g,h,k,m,n;k=a.getPattern();var o=a.getColor(),q=DvtColorUtils.getRGB(o),o=DvtColorUtils.getAlpha(o);d=a.getBackgroundColor();m=DvtColorUtils.getRGB(d);var s=DvtColorUtils.getAlpha(d);DvtSvgPatternFillUtils.IsSmallPattern(k)?(d=DvtSvgPatternFillUtils._SM_WIDTH,e=DvtSvgPatternFillUtils._SM_HEIGHT,g=DvtSvgPatternFillUtils._SM_WIDTH,h=DvtSvgPatternFillUtils._SM_HEIGHT):(d=DvtSvgPatternFillUtils._LG_WIDTH,e=DvtSvgPatternFillUtils._LG_HEIGHT,
g=DvtSvgPatternFillUtils._LG_WIDTH,h=DvtSvgPatternFillUtils._LG_HEIGHT);m&&0<s&&(n=DvtSvgShapeUtils.createElement("rect"),n.setAttributeNS(null,"stroke",m),n.setAttributeNS(null,"stroke-opacity",s),n.setAttributeNS(null,"stroke-width",1),n.setAttributeNS(null,"fill",m),n.setAttributeNS(null,"fill-opacity",s),n.setAttributeNS(null,"x",0),n.setAttributeNS(null,"y",0),n.setAttributeNS(null,"width",d),n.setAttributeNS(null,"height",e),b.appendChild(n));if(k===DvtPatternFill.SM_DIAG_UP_LT||k===DvtPatternFill.LG_DIAG_UP_LT)k=
g/2,m=h/2,n=DvtSvgShapeUtils.createElement("path"),n.setAttributeNS(null,"stroke",q),n.setAttributeNS(null,"stroke-opacity",o),n.setAttributeNS(null,"stroke-width",1),n.setAttributeNS(null,"stroke-linecap","square"),n.setAttributeNS(null,"d","M"+k+",0L"+d+","+m+"M0,"+m+"L"+k+","+e),b.appendChild(n);else if(k===DvtPatternFill.SM_DIAG_UP_RT||k===DvtPatternFill.LG_DIAG_UP_RT)k=g/2,m=h/2,n=DvtSvgShapeUtils.createElement("path"),n.setAttributeNS(null,"stroke",q),n.setAttributeNS(null,"stroke-opacity",
o),n.setAttributeNS(null,"stroke-width",1),n.setAttributeNS(null,"stroke-linecap","square"),n.setAttributeNS(null,"d","M0,"+m+"L"+k+",0M"+k+","+e+"L"+d+","+m),b.appendChild(n);else if(k===DvtPatternFill.SM_CROSSHATCH||k===DvtPatternFill.LG_CROSSHATCH)n=DvtSvgShapeUtils.createElement("path"),n.setAttributeNS(null,"stroke",q),n.setAttributeNS(null,"stroke-opacity",o),n.setAttributeNS(null,"stroke-width",1),n.setAttributeNS(null,"d","M0,0L"+d+","+e+"M"+d+",0L0,"+e),b.appendChild(n);else if(k===DvtPatternFill.SM_CHECK||
k===DvtPatternFill.LG_CHECK)k=g/2,m=h/2,n=DvtSvgShapeUtils.createElement("path"),n.setAttributeNS(null,"stroke",q),n.setAttributeNS(null,"stroke-opacity",o),n.setAttributeNS(null,"stroke-width",1),n.setAttributeNS(null,"fill",q),n.setAttributeNS(null,"fill-opacity",o),n.setAttributeNS(null,"d","M"+k+",0L"+g+",0L"+g+","+m+"L"+k+","+m+"ZM0,"+m+"L"+k+","+m+"L"+k+","+h+"L0,"+h+"Z"),b.appendChild(n);else if(k===DvtPatternFill.SM_TRIANGLE_CHECK||k===DvtPatternFill.LG_TRIANGLE_CHECK)n=DvtSvgShapeUtils.createElement("polygon"),
n.setAttributeNS(null,"stroke",q),n.setAttributeNS(null,"stroke-opacity",o),n.setAttributeNS(null,"stroke-width",1),n.setAttributeNS(null,"fill",q),n.setAttributeNS(null,"fill-opacity",o),n.setAttributeNS(null,"points","0,"+e+" "+d+",0 "+d+","+e),b.appendChild(n);else if(k===DvtPatternFill.SM_DIAMOND_CHECK||k===DvtPatternFill.LG_DIAMOND_CHECK)k=g/2,m=h/2,n=DvtSvgShapeUtils.createElement("polygon"),n.setAttributeNS(null,"stroke",q),n.setAttributeNS(null,"stroke-opacity",o),n.setAttributeNS(null,"stroke-width",
1),n.setAttributeNS(null,"fill",q),n.setAttributeNS(null,"fill-opacity",o),n.setAttributeNS(null,"points","0,"+m+" "+k+",0 "+d+","+k+" "+k+","+e),b.appendChild(n)};var DvtSvgShadowUtils=function(){};DvtObj.createSubclass(DvtSvgShadowUtils,DvtObj,"DvtSvgShadowUtils");DvtSvgShadowUtils.RADS_PER_DEGREE=Math.PI/180;
DvtSvgShadowUtils.createFilter=function(a,b){var d;if(!a.isLocked()){var e=new DvtSvgFilterContext;d=DvtSvgShapeUtils.createElement("filter",a._Id);DvtSvgShadowUtils.createFilterPrimitives(d,a,b,e);var g=DvtSvgShapeUtils.createElement("feMerge"),h=DvtSvgShapeUtils.createElement("feMergeNode");h.setAttributeNS(null,"in",e.getResultIdsUnder()[0]);e=DvtSvgShapeUtils.createElement("feMergeNode");e.setAttributeNS(null,"in","SourceGraphic");d.appendChild(g);g.appendChild(h);g.appendChild(e)}return d};
DvtSvgShadowUtils.createFilterPrimitives=function(a,b,d,e){b._bInner?DvtSvgShadowUtils.CreateInnerFilterPrimitives(a,b,d,e):DvtSvgShadowUtils.CreateOuterFilterPrimitives(a,b,d,e)};
DvtSvgShadowUtils.CreateOuterFilterPrimitives=function(a,b,d,e){var g=b._rgba,h=DvtColorUtils.getRed(g)/255,k=DvtColorUtils.getGreen(g)/255,m=DvtColorUtils.getBlue(g)/255,n=DvtColorUtils.getAlpha(g),o=b._strength,q=b._blurX,s=b._blurY,t=g=0;0<b._blurX&&(g=Math.max(b._blurX/3,1));0<b._blurY&&(t=Math.max(b._blurY/3,1));var u=b._distance,v=b._angle*DvtSvgShadowUtils.RADS_PER_DEGREE,b=Math.cos(v)*u,v=Math.sin(v)*u,w=d.getDimensions(d.getParent());if(w){var x=Math.abs(u),y=2*q,z=2*q,q=2*s,s=2*s;0<u?(y-=
x,q-=x,z+=x,s+=x):0>u&&(y+=x,q+=x,z-=x,s-=x);0>y&&(y=0);0>q&&(q=0);0>z&&(z=0);0>s&&(s=0);u=100*(y/w.w);x=100*(z/w.w);q=100*(q/w.h);w=100*(s/w.h);e.getRegionPctRect().x>-u&&(e.getRegionPctRect().x=-u);e.getRegionPctRect().y>-q&&(e.getRegionPctRect().y=-q);e.getRegionPctRect().w<100+u+x&&(e.getRegionPctRect().w=100+u+x);e.getRegionPctRect().h<100+q+w&&(e.getRegionPctRect().h=100+q+w)}d instanceof DvtSvgPolyline&&(d=d.getStroke().getWidth(),1<d&&(e.getRegionPctRect().h=e.getRegionPctRect().h+d,e.getRegionPctRect().y=
e.getRegionPctRect().y-d));d=DvtSvgShapeUtils.createElement("feColorMatrix");d.setAttributeNS(null,"in","SourceGraphic");d.setAttributeNS(null,"type","matrix");d.setAttributeNS(null,"values","0 0 0 "+h+" 0 0 0 0 "+k+" 0 0 0 0 "+m+" 0 0 0 0 "+n*o+" 0");h=DvtSvgShapeUtils.createElement("feGaussianBlur");k=g;g!==t&&(k+=" "+t);h.setAttributeNS(null,"stdDeviation",k);t=e.createResultId("blur");h.setAttributeNS(null,"result",t);g=DvtSvgShapeUtils.createElement("feOffset");g.setAttributeNS(null,"dx",b);
g.setAttributeNS(null,"dy",v);g.setAttributeNS(null,"in",t);b=e.createResultId("offset");g.setAttributeNS(null,"result",b);e.getResultIdsUnder().push(b);a.appendChild(d);a.appendChild(h);a.appendChild(g)};
DvtSvgShadowUtils.CreateInnerFilterPrimitives=function(a,b,d,e){var d=b._rgba,g=DvtColorUtils.getRed(d)/255,h=DvtColorUtils.getGreen(d)/255,k=DvtColorUtils.getBlue(d)/255,h=DvtColorUtils.makeRGB(g,h,k),m=DvtColorUtils.getAlpha(d),n=Math.max(b._blurX/2,1),o=Math.max(b._blurY/2,1),k=b._distance,g=b._strength,b=b._angle*DvtSvgShadowUtils.RADS_PER_DEGREE,d=Math.cos(b)*k,k=Math.sin(b)*k,b=DvtSvgShapeUtils.createElement("feFlood");b.setAttributeNS(null,"in","SourceGraphic");b.setAttributeNS(null,"flood-opacity",
m);b.setAttributeNS(null,"flood-color",h);m=e.createResultId("flood");b.setAttributeNS(null,"result",m);h=DvtSvgShapeUtils.createElement("feComposite");h.setAttributeNS(null,"operator","out");h.setAttributeNS(null,"in",m);h.setAttributeNS(null,"in2","SourceGraphic");var m=DvtSvgShapeUtils.createElement("feGaussianBlur"),q=n;n!==o&&(q+=" "+o);m.setAttributeNS(null,"stdDeviation",q);o=e.createResultId("blur");m.setAttributeNS(null,"result",o);n=DvtSvgShapeUtils.createElement("feColorMatrix");n.setAttributeNS(null,
"in",o);n.setAttributeNS(null,"type","matrix");n.setAttributeNS(null,"values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 "+g+" 0");o=e.createResultId("colMat");n.setAttributeNS(null,"result",o);g=DvtSvgShapeUtils.createElement("feOffset");g.setAttributeNS(null,"dx",d);g.setAttributeNS(null,"dy",k);g.setAttributeNS(null,"in",o);k=e.createResultId("offset");g.setAttributeNS(null,"result",k);d=DvtSvgShapeUtils.createElement("feComposite");d.setAttributeNS(null,"operator","in");d.setAttributeNS(null,"in",k);
d.setAttributeNS(null,"in2","SourceGraphic");k=e.createResultId("comp");d.setAttributeNS(null,"result",k);e.getResultIdsOver().push(k);a.appendChild(b);a.appendChild(h);a.appendChild(m);a.appendChild(n);a.appendChild(g);a.appendChild(d)};var DvtSvgDisplayable=function(a){this._Init(a)};DvtObj.createSubclass(DvtSvgDisplayable,DvtObj,"DvtSvgDisplayable");DvtSvgDisplayable._ATTRS_TRANSFERABLE_TO_OUTER=["clip-path"];
DvtSvgDisplayable._CREATE_EVENT_TYPE_MAP={click:"click",mouseover:"mouseover",mouseout:"mouseout",mousemove:"mousemove",keydown:"keydown",keyup:"keyup"};DvtSvgDisplayable.prototype._Init=function(a,b){a&&(this._id=a);this._Parent=null;this._elem=DvtSvgShapeUtils.createElement(b,this._id);this._elem._obj=this;this._bVisible=!0;this._filter=null;this._pixelHinting=!1;this._cursor=null;this._bMouseEnabled=!0;this._alpha=1;this._captureClosure=this._bubbleClosure=this._matrix=null};
DvtSvgDisplayable.prototype.getElem=function(){return this._elem};DvtSvgDisplayable.prototype.getOuterElem=function(){return this._outerElem?this._outerElem:this.getElem()};DvtSvgDisplayable.prototype.getId=function(){return this._id};DvtSvgDisplayable.prototype.setId=function(a){this._id!==a&&(a&&0===a.length&&(a=null),this._id=a,this._elem.setAttributeNS(null,"id",a))};DvtSvgDisplayable.prototype.getObj=function(){return this._obj};DvtSvgDisplayable.prototype.setObj=function(a){this._obj=a};
DvtSvgDisplayable.prototype.getParent=function(){return this._obj.getParent()};DvtSvgDisplayable.prototype.setParent=function(a){this._obj.setParent(a)};DvtSvgDisplayable.prototype.getPixelHinting=function(){return this._pixelHinting};DvtSvgDisplayable.prototype.setPixelHinting=function(a){(this._pixelHinting=a)?this._elem.setAttributeNS(null,"shape-rendering","crispEdges"):this._elem.removeAttributeNS(null,"shape-rendering")};DvtSvgDisplayable.prototype.getVisible=function(){return this._bVisible};
DvtSvgDisplayable.prototype.setVisible=function(a){this._bVisible!==a&&(this._bVisible=a,this instanceof DvtSvgMarker?this._elem.setAttributeNS(null,"visibility",a?"visible":"hidden"):this.getElem().setAttributeNS(null,"visibility",a?"visible":"hidden"))};
DvtSvgDisplayable.prototype.setClipPath=function(a){if(a){!this._outerElem&&this._matrix&&this._createOuterGroupElem();var b=a.getId();if(b){var d=this.getObj().getContext();DvtSvgShapeUtils.addClipPath(a,d)&&this.getOuterElem().setAttributeNS(null,"clip-path","url(#"+b+")")}}else this.getOuterElem().setAttributeNS(null,"clip-path",null)};DvtSvgDisplayable.prototype.addClipPath=function(a,b){return DvtSvgShapeUtils.addClipPath(a,b)};
DvtSvgDisplayable.prototype.getDimensions=function(){try{var a=this.getElem().getBBox()}catch(b){return null}return new DvtRectangle(a.x,a.y,a.width,a.height)};DvtSvgDisplayable.prototype.getDimensionsWithStroke=function(){return this.GetDimensionsWithStroke()};DvtSvgDisplayable.prototype.GetDimensionsWithStroke=function(a){var b=this.GetElemDimensionsWithStroke();return!a||a===this.getObj()?b:this.getObj().ConvertCoordSpaceRect(b,a)};
DvtSvgDisplayable.prototype.GetElemDimensionsWithStroke=function(){var a=null;try{a=this._elem.getBBox()}catch(b){return null}return new DvtRectangle(a.x,a.y,a.width,a.height)};DvtSvgDisplayable.HasAttributes=function(a,b){if(b)for(var d=b.length,e=0;e<d;e++)if(a.getAttributeNS(null,b[e]))return!0;return!1};
DvtSvgDisplayable.TransferAttributes=function(a,b,d){if(d)for(var e,g,h=d.length,k=0;k<h;k++)if(e=d[k],g=a.getAttributeNS(null,e))a.removeAttributeNS(null,e),b.setAttributeNS(null,e,g),DvtAgent.getAgent().getPlatform()==DvtAgent.IE_PLATFORM&&a.setAttributeNS(null,e,null)};
DvtSvgDisplayable.prototype._createOuterGroupElem=function(){if(!this._outerElem){this._outerElem=DvtSvgShapeUtils.createElement("g",this._id?this._id+"_outer":null);var a=this.getParent();a&&a.getImpl().getElem().replaceChild(this._outerElem,this.getElem());this._outerElem.appendChild(this.getElem());DvtSvgDisplayable.TransferAttributes(this.getElem(),this._outerElem,DvtSvgDisplayable._ATTRS_TRANSFERABLE_TO_OUTER)}};
DvtSvgDisplayable.prototype.addListener=function(a,b){var d=this._getListener(b);if("keyup"==a||"keydown"==a){if(this.getObj()){var e=this.getObj().getContext().getStage().getImpl().getSVGRoot().parentNode;e._obj||(e._obj=[]);-1==DvtArrayUtils.indexOf(e._obj,this)&&e._obj.push(this);d=DvtHtmlKeyboardListenerUtils.getListener(b);e.addEventListener(a,d,b)}}else this.AddElemListener(a,d,b)};
DvtSvgDisplayable.prototype.AddElemListener=function(a,b,d){this.getElem().addEventListener(a,b,d);"touchend"==a&&this.getElem().addEventListener("touchcancel",b,d)};DvtSvgDisplayable.prototype.removeListener=function(a,b){var d=this._getListener(b);this.getElem().removeEventListener(a,d,b)};
DvtSvgDisplayable.prototype._getListener=function(a){var b=this;if(a)return this._captureClosure||(this._captureClosure=function(a){b._captureListener(a)}),this._captureClosure;this._bubbleClosure||(this._bubbleClosure=function(a){b._bubbleListener(a)});return this._bubbleClosure};
DvtSvgDisplayable.prototype._bubbleListener=function(a){if(DvtAgent.getAgent().getPlatform()==DvtAgent.IE_PLATFORM)if("mouseover"==a.type){if(this._bubbleHoverItem){if(this._bubbleHoverItem==a.target)return;var b=DvtSvgEventFactory.newEvent(a,this.getObj().getContext());b.type="mouseout";b.relatedTarget=b.target;b.target=DvtSvgBaseEvent.FindDisplayable(this._bubbleHoverItem);this.getObj().FireListener(b,!1)}this._bubbleHoverItem=a.target}else"mouseout"==a.type&&(this._bubbleHoverItem=null);b=DvtSvgEventFactory.newEvent(a,
this.getObj().getContext());this.getObj().FireListener(b,!1)};
DvtSvgDisplayable.prototype._captureListener=function(a){if(DvtAgent.getAgent().getPlatform()==DvtAgent.IE_PLATFORM)if("mouseover"==a.type){if(this._captureHoverItem){if(this._captureHoverItem==a.target)return;var b=DvtSvgEventFactory.newEvent(a,this.getObj().getContext());b.type="mouseout";b.relatedTarget=b.target;b.target=DvtSvgBaseEvent.FindDisplayable(this._captureHoverItem);this.getObj().FireListener(b,!0)}this._captureHoverItem=a.target}else"mouseout"==a.type&&(this._captureHoverItem=null);
b=DvtSvgEventFactory.newEvent(a,this.getObj().getContext());this.getObj().FireListener(b,!0)};DvtSvgDisplayable.prototype.getCSSStyle=function(){return this._cssStyle};DvtSvgDisplayable.prototype.setCSSStyle=function(a){this._cssStyle=a};DvtSvgDisplayable.prototype.setCursor=function(a){(this._cursor=a)?this.getElem().setAttributeNS(null,"cursor",a):this.getElem().removeAttributeNS(null,"cursor")};DvtSvgDisplayable.prototype.getCursor=function(){return this._cursor};
DvtSvgDisplayable.prototype.setMouseEnabled=function(a){this._bMouseEnabled=a;this.getElem().setAttributeNS(null,"pointer-events",a?"visiblePainted":"none")};DvtSvgDisplayable.prototype.isMouseEnabled=function(){return this._bMouseEnabled};DvtSvgDisplayable.prototype.getAlpha=function(){return this._alpha};DvtSvgDisplayable.prototype.setAlpha=function(a){1.0E-5>a&&(a=0);a!==this._alpha&&(this._alpha=a,this.getElem().setAttributeNS(null,"opacity",this._alpha))};
DvtSvgDisplayable.prototype.setMatrix=function(a){a!==this._matrix&&(!this._outerElem&&DvtSvgDisplayable.HasAttributes(this.getElem(),DvtSvgDisplayable._ATTRS_TRANSFERABLE_TO_OUTER)&&this._createOuterGroupElem(),(this._matrix=a)?this.SetElemMatrix("matrix("+a.getA()+","+a.getC()+","+a.getB()+","+a.getD()+","+a.getTx()+","+a.getTy()+")"):this.getElem().getAttributeNS(null,"transform")&&(this.getElem().removeAttributeNS(null,"transform"),DvtAgent.getAgent().getPlatform()==DvtAgent.IE_PLATFORM&&this.getElem().setAttributeNS(null,
"transform",null)))};DvtSvgDisplayable.prototype.SetElemMatrix=function(a){this.getElem().setAttributeNS(null,"transform",a)};
DvtSvgDisplayable.prototype.applyDrawEffects=function(a){!this._outerElem&&this._matrix&&this._createOuterGroupElem();this._filter&&(this.getObj().getContext().removeDefs(this._filter),this._filter=null,this.getOuterElem().removeAttributeNS(null,"filter"));if(a&&0<a.length&&(this._filter=DvtSvgFilterUtils.createFilter(a,this)))this.getObj().getContext().appendDefs(this._filter),a=this._filter.getAttributeNS(null,"id"),this.getOuterElem().setAttributeNS(null,"filter","url(#"+a+")")};
DvtSvgDisplayable.prototype.setAriaRole=function(a){a?this.getElem().setAttributeNS(null,"role",a):this.getElem().removeAttributeNS(null,"role")};DvtSvgDisplayable.prototype.setAriaProperty=function(a,b){b?this.getElem().setAttributeNS(null,"aria-"+a,b):this.getElem().removeAttributeNS(null,"aria-"+a)};DvtSvgDisplayable.prototype.stageToLocal=function(a){for(var b=this.getObj(),d=b.getPathToStage(),e=d.length-1;0<=e;e--)b=d[e],b=b.getMatrix().clone(),b.invert(),a=b.transformPoint(a);return a};
DvtSvgDisplayable.prototype.localToStage=function(a){for(var b=this.getObj(),d=b.getPathToStage(),e=0;e<d.length;e++)b=d[e],b=b.getMatrix(),a=b.transformPoint(a);return a};DvtSvgDisplayable.prototype.createCopy=function(){var a=this.getElem().cloneNode(!0),b=new DvtContainer(this.getObj().getContext(),"clonedContainer");b.getImpl().getElem().appendChild(a);this._disableEvents(a);return b};
DvtSvgDisplayable.prototype._disableEvents=function(a){for(a=a.firstChild;null!=a;)a.setAttributeNS&&(a.setAttributeNS(null,"pointer-events","none"),a.setAttributeNS(null,"id",null)),this._disableEvents(a),a=a.nextSibling};
DvtSvgDisplayable.prototype.dispatchDisplayableEvent=function(a,b){var d=DvtSvgDisplayable._CREATE_EVENT_TYPE_MAP[a],e;if("click"==d||"mouseover"==d||"mouseout"==d||"mousemove"==d){if(document.createEvent){e=this.getObj().getContext();var g=this.getObj().getDimensions(),g=this.getObj().localToStage(new DvtPoint(g.x,g.y));e=e.getStageAbsolutePosition();e=new DvtPoint(e.x+g.x,e.y+g.y);g=document.createEvent("MouseEvents");g.initMouseEvent(d,!0,!0,window,1,e.x,e.y,e.x,e.y,!1,!1,!1,!1,0,null);this.getElem().dispatchEvent(g)}}else if(("keydown"==
d||"keyup"==d)&&document.createEvent)g=document.createEvent("KeyboardEvent"),e=parseInt(b),void 0===this._ctrlKeyPressed&&(this._ctrlKeyPressed=!1),void 0===this._shiftKeyPressed&&(this._shiftKeyPressed=!1),e==DvtKeyboardEvent.CONTROL?this._ctrlKeyPressed&&"keyup"==d?this._ctrlKeyPressed=!1:!this._ctrlKeyPressed&&"keydown"==d&&(this._ctrlKeyPressed=!0):e==DvtKeyboardEvent.SHIFT&&(this._shiftKeyPressed&&"keyup"==d?this._shiftKeyPressed=!1:!this._shiftKeyPressed&&"keydown"==d&&(this._shiftKeyPressed=
!0)),"undefined"!=typeof g.initKeyboardEvent?g.initKeyboardEvent(d,!0,!0,window,this._ctrlKeyPressed,!1,this._shiftKeyPressed,!1,e,e):g.initKeyEvent(d,!0,!0,window,this._ctrlKeyPressed,!1,!1,this._shiftKeyPressed,e,e),d=DvtSvgEventFactory.newEvent(g),d.keyCode=e,d.ctrlKey=this._ctrlKeyPressed,d.shiftKey=this._shiftKeyPressed,this.getObj()&&(e=this.getObj().getContext(),e=e.getStage().getImpl().getSVGRoot().parentNode,DvtHtmlKeyboardListenerUtils._bubbleListener.call(e,d))};
var DvtSvgContainer=function(a,b){this._Init(a,b)};DvtObj.createSubclass(DvtSvgContainer,DvtSvgDisplayable,"DvtSvgContainer");DvtSvgContainer.AttributesTransferableToGroup="transform,opacity,style,visibility,pointer-events,clip-path".split(",");DvtSvgContainer.prototype.addChild=function(a){this._bShapeContainer&&this.CreateChildGroupElem(!1);this.getContainerElem().appendChild(a.getOuterElem())};
DvtSvgContainer.prototype.addChildAt=function(a,b){var d=b;this._bShapeContainer&&(this.CreateChildGroupElem(!1),d++);var e=this.getContainerElem();e.appendChild(a.getOuterElem());(d=e.childNodes[d])||(d=null);e.insertBefore(a.getOuterElem(),d)};DvtSvgContainer.prototype.GetAttributesTransferableToGroup=function(){return DvtSvgContainer.AttributesTransferableToGroup};DvtSvgContainer.prototype.addChildAfter=function(){};DvtSvgContainer.prototype.addChildBefore=function(){};
DvtSvgContainer.prototype.getElem=function(){return this._childGroupElem?this._childGroupElem:this._elem};DvtSvgContainer.prototype._Init=function(a,b){this._bShapeContainer=this instanceof DvtSvgShape;DvtSvgContainer.superclass._Init.call(this,a,b);this._childGroupElem=null};
DvtSvgContainer.prototype.removeChild=function(a){var b=a.getOuterElem(),a=a.getParent();b&&a&&this.getContainerElem().removeChild(b);if(!this._anchorElem&&this._bShapeContainer&&1===this.getObj().getNumChildren()&&(a=(b=this._childGroupElem)?b.parentNode:null))DvtSvgDisplayable.TransferAttributes(b,this._elem,this.GetAttributesTransferableToGroup()),a.replaceChild(this._elem,b),this._childGroupElem=null};
DvtSvgContainer.prototype.swap=function(a,b){var d=a.getElem(),e=objw.getElem(),g=a.getParent(),h=e.nextSibling;g&&d&&e&&(g.replaceChild(d,e),g.insertBefore(d,h),d=a.getIndex(),e=b.getIndex(),this._arList[d]=b,this._arList[e]=a)};
DvtSvgContainer.prototype.CreateChildGroupElem=function(a,b){if(!this._childGroupElem&&(b||0===this.getObj().getNumChildren())){this._childGroupElem=DvtSvgShapeUtils.createElement("g",this._id?this._id+"_g":null);var d=this.getParent();d&&(d=d.getImpl().getElem(),d.replaceChild(this._childGroupElem,this._elem));a||this._childGroupElem.appendChild(this._elem);DvtSvgDisplayable.TransferAttributes(this._elem,this._childGroupElem,this.GetAttributesTransferableToGroup());this._elem._obj&&(this._childGroupElem._obj=
this._elem._obj)}else a&&this.getObj().removeChildren()};DvtSvgContainer.prototype.getDimensionsWithStroke=function(){for(var a=[],b=this.getObj().getNumChildren(),d=0;d<b;d++)a.push(this.getObj().getChildAt(d));for(var e=null;0<a.length;){var g=a.shift();(b=g.getImpl().GetDimensionsWithStroke(this.getObj()))&&(e=e?e.getUnion(b):b);b=g.getNumChildren();for(d=0;d<b;d++)a.push(g.getChildAt(d))}return e};DvtSvgContainer.prototype.GetDimensionsWithStroke=function(){return null};
DvtSvgContainer.prototype.setHyperlink=function(a){var b,d;a&&(b=a.destination,d=a.targetFrame);var a=this.getElem(),e;this._anchorElem?(e=this._anchorElem,b?(e.setAttributeNS(DvtSvgImage.XLINK_NS,"xlink:href",b),d?e.setAttributeNS(null,"target",d):e.removeAttributeNS(null,"target")):(a&&e.parentNode==a&&(a.removeChild(e),DvtSvgContainer._reparentChildren(a,e)),this.setCursor("default"),this._anchorElem=null)):(e=DvtSvgShapeUtils.createElement("a"),b&&e.setAttributeNS(DvtSvgImage.XLINK_NS,"xlink:href",
b),d&&e.setAttributeNS(null,"target",d),this._bShapeContainer&&this.CreateChildGroupElem(!1,!0),a=this.getElem(),DvtSvgContainer._reparentChildren(e,a),a.appendChild(e),this.setCursor(DvtSelectionEffectUtils.getSelectingCursor()),this._anchorElem=e)};DvtSvgContainer._reparentChildren=function(a,b){var d=b.childNodes;if(d)for(var e,g,h=d.length-1;0<=h;h--)e=d[h],g?a.insertBefore(e,g):a.appendChild(e),g=e};
DvtSvgContainer.prototype.getContainerElem=function(){return this._anchorElem?this._anchorElem:this.getElem()};var DvtSvgStage=function(a,b){this._Init(a,b)};DvtObj.createSubclass(DvtSvgStage,DvtSvgContainer,"DvtSvgStage");DvtSvgStage.prototype.appendDefs=function(a){this._elemDefs.appendChild(a)};DvtSvgStage.prototype.getDefs=function(){return this._elemDefs};DvtSvgStage.prototype.getSVGRoot=function(){return this._SVGRoot};
DvtSvgStage.prototype._Init=function(a,b){DvtSvgStage.superclass._Init.call(this,b,"g");this._SVGRoot=a;this._bAppended=!0;this._obj=null;this.disableSelection(this._elem)};DvtSvgStage.prototype.disableSelection=function(a){a.onselectstart=function(){return!1};a.onselect=function(){return!1}};var DvtSvgShapeUtils=function(){};DvtObj.createSubclass(DvtSvgShapeUtils,DvtObj,"DvtSvgShapeUtils");DvtSvgShapeUtils._uniqueSeed=0;DvtSvgShapeUtils._Stage=null;
DvtSvgShapeUtils.addClipPath=function(a,b){var d=!1,e=a.getId();if(!e)return d;var g=b.getDefs();if(!g)return d;for(var h=null,k=g.childNodes,m=k.length,g=0;g<m;g++){var n=k.item(g);if(n.id===e){h=n;break}}if(b.hasClipPath(e,a))d=!0;else{h&&b.removeDefs(h);h=DvtSvgShapeUtils.createElement("clipPath",e);b.appendDefs(h);b.storeClipPath(e,a);k=a.getRegions();for(g=0;g<k.length;g++)if(m=k[g])d=null,m.type===DvtClipPath.RECT?(d=DvtSvgShapeUtils.createElement("rect",e),d.setAttributeNS(null,"x",m.x),d.setAttributeNS(null,
"y",m.y),d.setAttributeNS(null,"width",m.w),d.setAttributeNS(null,"height",m.h),m.rx&&d.setAttributeNS(null,"rx",m.rx),m.ry&&d.setAttributeNS(null,"ry",m.ry)):m.type===DvtClipPath.PATH?(d=DvtSvgShapeUtils.createElement("path",e),d.setAttributeNS(null,"d",m.d)):m.type===DvtClipPath.POLYGON?(d=DvtSvgShapeUtils.createElement("polygon",e),d.setAttributeNS(null,"points",m.points)):m.type===DvtClipPath.ELLIPSE?(d=DvtSvgShapeUtils.createElement("ellipse",e),d.setAttributeNS(null,"cx",m.cx),d.setAttributeNS(null,
"cy",m.cy),d.setAttributeNS(null,"rx",m.rx),d.setAttributeNS(null,"ry",m.ry)):m.type===DvtClipPath.CIRCLE&&(d=DvtSvgShapeUtils.createElement("circle",e),d.setAttributeNS(null,"cx",m.cx),d.setAttributeNS(null,"cy",m.cy),d.setAttributeNS(null,"r",m.r)),d&&h.appendChild(d),d=!0}return d};DvtSvgShapeUtils.createElement=function(a,b){var d=document.createElementNS(DvtSvgUtils.SVG_NS,a);b&&d.setAttributeNS(null,"id",b);return d};DvtSvgShapeUtils.getUniqueId=function(a){return(a?a:"$")+DvtSvgShapeUtils._uniqueSeed++};
DvtSvgShapeUtils.convertPointsArray=function(a){for(var b=a.length,d="",e=0;e<b;e++)0<e&&(d+=" "),d+=a[e];return d};var DvtSvgShape=function(a,b){this._Init(a,b)};DvtObj.createSubclass(DvtSvgShape,DvtSvgContainer,"DvtSvgShape");DvtSvgShape.prototype._Init=function(a,b){DvtSvgShape.superclass._Init.call(this,a,b);this._origStroke=this._origFill=this._fill=this._stroke=null;this._bHollow=!1;this._elem.setAttributeNS(null,"fill","none")};DvtSvgShape.prototype.getFill=function(){return this._fill};
DvtSvgShape.prototype.setFill=function(a){this._manageDefinitions(this._fill,a);if(a){if(this._fill!==a)if(this._fill=a,a instanceof DvtGradientFill)this._setSpecFill(a,DvtSvgGradientUtils);else if(a instanceof DvtImageFill)this._setSpecFill(a,DvtSvgImageFillUtils);else if(a instanceof DvtPatternFill)this._setSpecFill(a,DvtSvgPatternFillUtils);else{var b=a.getColor();b&&(a=a.getAlpha(),DvtAgent.getAgent().isSafari()&&-1!==b.indexOf("rgba")?(this._elem.setAttributeNS(null,"fill",DvtColorUtils.getRGB(b)),
null!=a?this._elem.setAttributeNS(null,"fill-opacity",DvtColorUtils.getAlpha(b)*a):this._elem.setAttributeNS(null,"fill-opacity",DvtColorUtils.getAlpha(b))):(this._elem.setAttributeNS(null,"fill",b),null!=a&&this._elem.setAttributeNS(null,"fill-opacity",a)))}}else this._elem.setAttributeNS(null,"fill","none"),this._elem.removeAttributeNS(null,"fill-opacity"),this._fill=null};
DvtSvgShape.prototype._setSpecFill=function(a,b){var d;a.isLocked()?d=a.getId():(d=a.getId(),d||(d=a instanceof DvtPatternFill?DvtSvgShapeUtils.getUniqueId("pat"):DvtSvgShapeUtils.getUniqueId("Gr"),a.setId(d)));if(!a._defPresent){var e=a._defElem;e||(e=b.createElem(a,d));a._defElem=e;this.getObj().getContext().appendDefs(e);a._defPresent=!0}this._elem.setAttributeNS(null,"fill","url(#"+d+")");this._elem.setAttributeNS(null,"fill-opacity","1")};DvtSvgShape.prototype.getStroke=function(){return this._stroke};
DvtSvgShape.prototype.setStroke=function(a){this._manageDefinitions(this._stroke,a);if(this._stroke=a){if(a instanceof DvtGradientStroke)this._setSpecStroke(a,DvtSvgGradientUtils);else{var b=a.getColor();if(b){var d=a.getAlpha();DvtAgent.getAgent().isSafari()&&-1!==b.indexOf("rgba")?(this._elem.setAttributeNS(null,"stroke",DvtColorUtils.getRGB(b)),null!=d?this._elem.setAttributeNS(null,"stroke-opacity",DvtColorUtils.getAlpha(b)*d):this._elem.setAttributeNS(null,"stroke-opacity",DvtColorUtils.getAlpha(b))):
(this._elem.setAttributeNS(null,"stroke",b),null!=d&&this._elem.setAttributeNS(null,"stroke-opacity",d))}}this._elem.setAttributeNS(null,"stroke-width",a.getWidth());a.getType()!==DvtStroke.SOLID?this._elem.setAttributeNS(null,"stroke-dasharray",a.getDash()):this._elem.removeAttributeNS(null,"stroke-dasharray");(attrib=a.getLineJoin())&&this._elem.setAttributeNS(null,"stroke-linejoin",attrib);(attrib=a.getLineEnd())&&this._elem.setAttributeNS(null,"stroke-linecap",attrib);(attrib=a.getMiterLimit())&&
this._elem.setAttributeNS(null,"stroke-miterlimit",attrib)}else this._elem.removeAttributeNS(null,"stroke"),this._elem.removeAttributeNS(null,"stroke-opacity"),this._elem.removeAttributeNS(null,"stroke-width"),this._elem.removeAttributeNS(null,"stroke-dasharray"),this._elem.removeAttributeNS(null,"stroke-linejoin"),this._elem.removeAttributeNS(null,"stroke-linecap"),this._elem.removeAttributeNS(null,"stroke-miterlimit")};
DvtSvgShape.prototype._setSpecStroke=function(a,b){var d;a.isLocked()?d=a.getId():(d=a.getId(),d||(d=DvtSvgShapeUtils.getUniqueId("Gr"),a.setId(d)));if(!a._defPresent){var e=a._defElem;e||(e=b.createElem(a,d));a._defElem=e;this.getObj().getContext().appendDefs(e);a._defPresent=!0}this._elem.setAttributeNS(null,"stroke","url(#"+d+")");d=a.getAlpha();null!=d&&this._elem.setAttributeNS(null,"stroke-opacity",d)};
DvtSvgShape.prototype.setHollow=function(a,b){if(this._bHollow)this.setFill(this._origFill),this.setStroke(this._origStroke),this._bHollow=!1;else{this._origFill=this._fill;this._origStroke=this._stroke;var d=new DvtSolidFill("#ffffff",0.0010),e;e=a?new DvtSolidStroke(DvtColorUtils.getRGB(a),DvtColorUtils.getAlpha(a),b):new DvtSolidStroke(this._fill.getColor(),this._fill.getAlpha(),b);this.setFill(d);this.setStroke(e);this._bHollow=!0}};DvtSvgShape.prototype.isHollow=function(){return this._bHollow};
DvtSvgShape.prototype._manageDefinitions=function(a,b){a!=b&&(a&&(a._referenceCount--,0==a._referenceCount&&a._defElem&&(this.getObj().getContext().removeDefs(a._defElem),a._defPresent=!1)),b&&(b._referenceCount||(b._referenceCount=0),b._referenceCount++))};DvtSvgShape.prototype.getDimensionsWithStroke=function(){var a=this.GetElemDimensionsWithStroke(),b=DvtSvgShape.superclass.getDimensionsWithStroke.call(this);a&&b?a=a.getUnion(b):b&&(a=b);return a};
DvtSvgShape.prototype.GetDimensionsWithStroke=function(a){var b=this.GetElemDimensionsWithStroke();return!a||a===this.getObj()?b:this.getObj().ConvertCoordSpaceRect(b,a)};DvtSvgShape.prototype.GetElemDimensionsWithStroke=function(){var a=DvtSvgShape.superclass.GetElemDimensionsWithStroke.call(this),b=this.getStroke();if(a&&b&&(b=b.getWidth())){var d=0.5*b;a.x-=d;a.y-=d;a.w+=b;a.h+=b}return a};var DvtSvgArc=function(a,b,d,e,g,h,k,m){this._Init(a,b,d,e,g,h,k,m)};
DvtObj.createSubclass(DvtSvgArc,DvtSvgShape,"DvtSvgArc");DvtSvgArc.prototype._addClosure=function(a){this._ct===DvtArc.CHORD?a+=" z":this._ct===DvtArc.PIE?a+=" L "+this._cx+","+this._cy+" z":this._ct===DvtArc.OPEN&&this.setFill(null);return a};
DvtSvgArc.prototype._createArc=function(){if(!this._bInInit){var a=this._sa*DvtMath.RADS_PER_DEGREE,b=this._ae*DvtMath.RADS_PER_DEGREE,d=this._cx+this._rx*Math.cos(a),e=this._cy-this._ry*Math.sin(a),g=this._cx+this._rx*Math.cos(a+b),a=this._cy-this._ry*Math.sin(a+b),b=180<Math.abs(this._ae)?"1":"0",d="M "+d+" "+e+" A "+this._rx+","+this._ry+" 0 "+b+","+(0<this._ae?"0":"1")+" "+g+","+a,d=this._addClosure(d);this._elem.setAttributeNS(null,"d",d);null!==this._stroke&&this.setStroke(this._stroke)}};
DvtSvgArc.prototype.getAngleExtent=function(){return this._ae};DvtSvgArc.prototype.setAngleExtent=function(a){a=null===a||isNaN(a)?0:a;this._ae!==a&&(360===a&&(a=359.99),this._ae=a,this._createArc())};DvtSvgArc.prototype.getAngleStart=function(){return this._sa};DvtSvgArc.prototype.setAngleStart=function(a){a=null===a||isNaN(a)?0:a;this._sa!==a&&(this._sa=a,this._createArc())};DvtSvgArc.prototype.getClosure=function(){return this._ct};
DvtSvgArc.prototype.setClosure=function(a){a!==this._ct&&(this._ct=a,this._createArc())};DvtSvgArc.prototype._Init=function(a,b,d,e,g,h,k,m){DvtSvgArc.superclass._Init.call(this,m,"path");this._ae=this._sa=0;e=null===e||isNaN(e)?d:e;this._bInInit=!0;this.setCx(a);this.setCy(b);this.setRx(d);this.setRy(e);this.setAngleStart(g);this.setAngleExtent(h);this.setClosure(k?k:DvtArc.OPEN);this._bInInit=!1;this._createArc()};DvtSvgArc.prototype.setArc=function(a,b){this.setAngleStart(a);this.setAngleExtentStart(b)};
DvtSvgArc.prototype.getCx=function(){return this._cx};DvtSvgArc.prototype.setCx=function(a){a!==this._cx&&(this._cx=a,this._elem.setAttributeNS(null,"cx",a))};DvtSvgArc.prototype.getCy=function(){return this._cy};DvtSvgArc.prototype.setCy=function(a){a!==this._cy&&(this._cy=a,this._elem.setAttributeNS(null,"cy",a))};DvtSvgArc.prototype.getRx=function(){return this._rx};DvtSvgArc.prototype.setRx=function(a){a!==this._rx&&(this._rx=a,this._elem.setAttributeNS(null,"rx",this._rx))};
DvtSvgArc.prototype.getRy=function(){return this._ry};DvtSvgArc.prototype.setRy=function(a){a!==this._ry&&(this._ry=a,this._elem.setAttributeNS(null,"ry",this._ry))};var DvtSvgCircle=function(a,b,d,e){this._Init(a,b,d,e)};DvtObj.createSubclass(DvtSvgCircle,DvtSvgShape,"DvtSvgCircle");DvtSvgCircle.prototype._Init=function(a,b,d,e,g){DvtSvgCircle.superclass._Init.call(this,e,g?g:"circle");this.setCx(a);this.setCy(b);this.setRadius(d)};DvtSvgCircle.prototype.getCx=function(){return this._cx};
DvtSvgCircle.prototype.setCx=function(a){a!==this._cx&&(this._cx=a,this._elem.setAttributeNS(null,"cx",a))};DvtSvgCircle.prototype.getCy=function(){return this._cy};DvtSvgCircle.prototype.setCy=function(a){a!==this._cy&&(this._cy=a,this._elem.setAttributeNS(null,"cy",a))};DvtSvgCircle.prototype.getRadius=function(){return this._r};DvtSvgCircle.prototype.setRadius=function(a){a!==this._r&&(this._r=a,this._elem.setAttributeNS(null,"r",a))};
var DvtSvgImage=function(a,b,d,e,g,h){this._Init(a,b,d,e,g,h)};DvtObj.createSubclass(DvtSvgImage,DvtSvgShape,"DvtSvgImage");DvtSvgImage.XLINK_NS="http://www.w3.org/1999/xlink";DvtSvgImage.prototype._Init=function(a,b,d,e,g,h){DvtSvgImage.superclass._Init.call(this,h,"image");this._elem.setAttributeNS(null,"fill","#FFFFFF");this._elem.setAttributeNS(null,"fill-opacity","0");this.setImage(a,b,d,e,g)};DvtSvgImage.prototype.getHeight=function(){return this._h};
DvtSvgImage.prototype.setHeight=function(a){a!==this._h&&(this._h=a,this._elem.setAttributeNS(null,"height",this._h))};DvtSvgImage.prototype.getPos=function(){return new DvtPoint(this._x,this._y)};DvtSvgImage.prototype.setPos=function(a,b){this.setX(a);this.setY(b)};DvtSvgImage.prototype.getX=function(){return this._x};DvtSvgImage.prototype.setX=function(a){a!==this._x&&(this._x=a,this._elem.setAttributeNS(null,"x",this._x))};DvtSvgImage.prototype.getY=function(){return this._y};
DvtSvgImage.prototype.setY=function(a){a!==this._y&&(this._y=a,this._elem.setAttributeNS(null,"y",this._y))};DvtSvgImage.prototype.getWidth=function(){return this._w};DvtSvgImage.prototype.setWidth=function(a){a!==this._w&&(this._w=a,this._elem.setAttributeNS(null,"width",this._w))};DvtSvgImage.prototype.getSrc=function(){return this._src};DvtSvgImage.prototype.setSrc=function(a){a!==this._src&&(this._src=a,this._elem.setAttributeNS(DvtSvgImage.XLINK_NS,"xlink:href",this._src))};
DvtSvgImage.prototype.setImage=function(a,b,d,e,g){b instanceof DvtImage?(this.setSrc(a.src),this.setPos(a.x,a.y),this.setWidth(a.w),this.setHeight(a.h)):(this.setSrc(a),this.setPos(b,d),this.setWidth(e),this.setHeight(g));this._elem.setAttributeNS(null,"preserveAspectRatio","none")};DvtSvgImage.prototype.getDimensions=function(){var a=this.getElem().getBBox();return a.width&&a.height?new DvtRectangle(a.x,a.y,a.width,a.height):new DvtRectangle(a.x,a.y,this.getWidth(),this.getHeight())};
DvtSvgImage.prototype.loadImage=function(){if(this._src){var a=DvtSvgImageLoader.loadImage(this._src);if(a)return this.setWidth(a.width),this.setHeight(a.height),this.getDimensions()}return null};var DvtSvgLine=function(a,b,d,e,g){this._Init(a,b,d,e,g)};DvtObj.createSubclass(DvtSvgLine,DvtSvgShape,"DvtSvgLine");
DvtSvgLine.prototype._Init=function(a,b,d,e,g){DvtSvgLine.superclass._Init.call(this,g,"line");this._elem.setAttributeNS(null,"fill","none");this.setX1(a);this.setY1(b);this.setX2(d);this.setY2(e);this._bHollow=!1};DvtSvgLine.prototype.getX1=function(){return this._x1};DvtSvgLine.prototype.setX1=function(a){a!==this._x1&&(this._x1=a,this._elem.setAttributeNS(null,"x1",this._x1))};DvtSvgLine.prototype.getY1=function(){return this._y1};
DvtSvgLine.prototype.setY1=function(a){a!==this._y1&&(this._y1=a,this._elem.setAttributeNS(null,"y1",this._y1))};DvtSvgLine.prototype.getX2=function(){return this._x2};DvtSvgLine.prototype.setX2=function(a){a!==this._x2&&(this._x2=a,this._elem.setAttributeNS(null,"x2",this._x2))};DvtSvgLine.prototype.getY2=function(){return this._y2};DvtSvgLine.prototype.setY2=function(a){a!==this._y2&&(this._y2=a,this._elem.setAttributeNS(null,"y2",this._y2))};
DvtSvgLine.prototype.setHollow=function(){var a=this._elem.parentNode;if(this._bHollow)this._origElem&&(a.replaceChild(this._origElem,this._elem),this._origElem.setAttributeNS(null,"opacity",this._alpha),this._elem=this._origElem,this._origElem=null,this._bHollow=!1);else{this._origElem=this._elem;var b,d=this.getX2()-this.getX1(),e=this.getY1()-d/2,g=this.getStroke();b=DvtSvgShapeUtils.createElement("rect");b.setAttributeNS(null,"x",this.getX1());b.setAttributeNS(null,"y",e);b.setAttributeNS(null,
"width",this.getX2()-this.getX1());b.setAttributeNS(null,"height",d);if(d=g.getColor())g=g.getAlpha(),DvtAgent.getAgent().isSafari()&&-1!==d.indexOf("rgba")?(b.setAttributeNS(null,"stroke",DvtColorUtils.getRGB(d)),null!=g?b.setAttributeNS(null,"stroke-opacity",DvtColorUtils.getAlpha(d)*g):b.setAttributeNS(null,"stroke-opacity",DvtColorUtils.getAlpha(d))):(b.setAttributeNS(null,"stroke",d),null!=g&&b.setAttributeNS(null,"stroke-opacity",g));b.setAttributeNS(null,"fill","#ffffff");b.setAttributeNS(null,
"fill-opacity","0.001");b.setAttributeNS(null,"shape-rendering","crispEdges");b._obj=this;a.replaceChild(b,this._elem);this._elem=b;this._elem.setAttributeNS(null,"opacity",this._alpha);this._bHollow=!0}};DvtSvgShape.prototype.isHollow=function(){return this._bHollow};
DvtSvgLine.prototype.getDimensions=function(a){a=DvtSvgLine.superclass.getDimensions.call(this,a);if(this._childGroupElem&&this._elem){var b=this._childGroupElem.getBBox();0==b.x&&0==b.y&&0==b.width&&0==b.height&&(a=this._elem.getBBox(),a=new DvtRectangle(a.x,a.y,a.width,a.height))}return a};var DvtSvgMarker=function(a,b,d){this._Init(a,b,d)};DvtObj.createSubclass(DvtSvgMarker,DvtSvgShape,"DvtSvgMarker");DvtSvgMarker._REFERENCE_X=0;DvtSvgMarker._REFERENCE_Y=0;DvtSvgMarker._REFERENCE_W=10;
DvtSvgMarker._REFERENCE_H=10;DvtSvgMarker.MARKER_CIRCLE_ELEM_NAME="circle";DvtSvgMarker.MARKER_ELLIPSE_ELEM_NAME="ellipse";DvtSvgMarker.MARKER_LINE_ELEM_NAME="line";DvtSvgMarker.MARKER_PATH_ELEM_NAME="path";DvtSvgMarker.MARKER_POLYGON_ELEM_NAME="polygon";DvtSvgMarker.MARKER_POLYLINE_ELEM_NAME="polyline";DvtSvgMarker.MARKER_RECT_ELEM_NAME="rect";
DvtSvgMarker.prototype._Init=function(a,b,d){d=d?d:a===DvtMarker.CIRCLE?"ellipse":a===DvtMarker.SQUARE?"rect":a===DvtMarker.ROUNDED_RECTANGLE?"rect":a===DvtMarker.TRIANGLE_UP?"polygon":a===DvtMarker.TRIANGLE_DOWN?"polygon":a===DvtMarker.DIAMOND?"polygon":a===DvtMarker.PLUS?"polygon":a===DvtMarker.HUMAN?"path":a===DvtMarker.IMAGE?DvtAgent.getAgent().isWebkit()?"image":"g":"rect";DvtSvgMarker.superclass._Init.call(this,b,d);this._type=a;this._underlay=null;this._defaultScale=1};
DvtSvgMarker.prototype.setBounds=function(a,b,d,e,g){this._shapeInitialized||this._initShape(this._type,g,a,b,d,e)};
DvtSvgMarker.prototype._initShape=function(a,b,d,e,g,h){this._shapeInitialized=!0;this._x=d;this._y=e;this._w=g;this._h=h;if(a===DvtMarker.CUSTOM||a===DvtMarker.HUMAN){var k=DvtDisplayableUtils._getDimForced(this.getObj().getContext(),b),m=Math.max(k.w,k.h),n=1,o=1;a===DvtMarker.CUSTOM?(n=g/(this.getObj().getMaintainAspect()?m:k.w),o=h/(this.getObj().getMaintainAspect()?m:k.h),d=d+-k.x*n+(g-k.w*n)/2,e=e+-k.y*o+(h-k.h*o)/2,this._setCustomMarker(b,d,e,n,o)):a===DvtMarker.HUMAN&&(n=g/m,o=h/m,d=d+-k.x*
n+(g-k.w*n)/2,e=e+-k.y*o+(h-k.h*o)/2,this._setCmds(DvtPathUtils.transformPath(DvtMarkerDef.HUMAN_CMDS,d,e,n,o)));this._defaultScale=k.h===m?h/m:g/m}else if(a===DvtMarker.IMAGE)this._setSrc(this.getObj().GetMarkerImage(DvtMarker.IMAGE_SOURCE)),this._setX(d),this._setY(e),this._setWidth(g),this._setHeight(h),this._elem.setAttributeNS(null,"preserveAspectRatio","none");else if(a===DvtMarker.SQUARE)this._setX(d),this._setY(e),this._setWidth(g),this._setHeight(h);else if(a===DvtMarker.ROUNDED_RECTANGLE){this._setX(d);
this._setY(e);this._setWidth(g);this._setHeight(h);d=e=6;if(g/4<e||h/4<d)d=e=Math.min(g,h)/4;this._setRX(e);this._setRY(d)}else a===DvtMarker.CIRCLE?(this._setCx(d+g/2),this._setCy(e+h/2),this._setRX(g/2),this._setRY(h/2)):(b=[],k=g/2,m=h/2,a===DvtMarker.TRIANGLE_UP?(b.push(d),b.push(e+h),b.push(d+g),b.push(e+h),b.push(d+k),b.push(e),this._setPolygon(b)):a===DvtMarker.TRIANGLE_DOWN?(b.push(d),b.push(e),b.push(d+g),b.push(e),b.push(d+k),b.push(e+h),this._setPolygon(b)):a===DvtMarker.DIAMOND?(b.push(d+
k),b.push(e),b.push(d+g),b.push(e+m),b.push(d+k),b.push(e+h),b.push(d),b.push(e+m),this._setPolygon(b)):a===DvtMarker.PLUS&&(a=g/3,k=2*a,m=h/3,n=2*m,b.push(d+a),b.push(e),b.push(d+k),b.push(e),b.push(d+k),b.push(e+m),b.push(d+g),b.push(e+m),b.push(d+g),b.push(e+n),b.push(d+k),b.push(e+n),b.push(d+k),b.push(e+h),b.push(d+a),b.push(e+h),b.push(d+a),b.push(e+n),b.push(d),b.push(e+n),b.push(d),b.push(e+m),b.push(d+a),b.push(e+m),b.push(d+a),b.push(e),this._setPolygon(b)))};
DvtSvgMarker.prototype.getDefaultScale=function(){return this._defaultScale};DvtSvgMarker.prototype.getType=function(){return this._type};DvtSvgMarker.prototype._setCx=function(a){this._elem.setAttributeNS(null,"cx",a)};DvtSvgMarker.prototype._setCy=function(a){this._elem.setAttributeNS(null,"cy",a)};DvtSvgMarker.prototype._setX=function(a){this._elem.setAttributeNS(null,"x",a)};DvtSvgMarker.prototype._setY=function(a){this._elem.setAttributeNS(null,"y",a)};
DvtSvgMarker.prototype._setWidth=function(a){this._elem.setAttributeNS(null,"width",a)};DvtSvgMarker.prototype._setHeight=function(a){this._elem.setAttributeNS(null,"height",a)};DvtSvgMarker.prototype._setRadius=function(a){this._elem.setAttributeNS(null,"r",a)};DvtSvgMarker.prototype._setPolygon=function(a){this._elem.setAttributeNS(null,"points",DvtSvgShapeUtils.convertPointsArray(a))};DvtSvgMarker.prototype._setCmds=function(a){a!==this._cmds&&(this._cmds=a,this._elem.setAttributeNS(null,"d",a))};
DvtSvgMarker.prototype._setSrc=function(a){this._elem.setAttributeNS(DvtSvgImage.XLINK_NS,"xlink:href",a)};DvtSvgMarker.prototype.GetAttributesTransferableToGroup=function(){var a=DvtSvgContainer.AttributesTransferableToGroup.slice(0),b=DvtArrayUtils.indexOf(a,"transform");a.splice(b,1);b=DvtArrayUtils.indexOf(a,"visibility");a.splice(b,1);return a};DvtSvgMarker.prototype.setMatrix=function(a){DvtSvgMarker.superclass.setMatrix.call(this,a);DvtSvgDocumentUtils.fixWebkitFilters(this.getOuterElem())};
DvtSvgMarker.prototype.setAlpha=function(a){DvtSvgMarker.superclass.setAlpha.call(this,a);DvtSvgDocumentUtils.fixWebkitFilters(this.getOuterElem())};DvtSvgMarker.prototype.setFill=function(a){DvtSvgMarker.superclass.setFill.call(this,a);DvtSvgDocumentUtils.fixWebkitFilters(this.getOuterElem())};DvtSvgMarker.prototype.setStroke=function(a){DvtSvgMarker.superclass.setStroke.call(this,a);DvtSvgDocumentUtils.fixWebkitFilters(this.getOuterElem())};
DvtSvgMarker.prototype._positionUnderlay=function(a,b,d,e){var g=this._underlay.getType(),h=Math.max(d,e)/2,k=[],m=0.4*h,n=1.6*h;g===DvtMarker.SQUARE?(g=0.5*h,this._underlay._setX(a-g),this._underlay._setY(b-g),this._underlay._setWidth(2*(h+g)),this._underlay._setHeight(2*(h+g))):g===DvtMarker.CIRCLE?(g=0.7*h,this._underlay._setCx(a+d/2),this._underlay._setCy(b+e/2),this._underlay._setRX(h+g),this._underlay._setRY(h+g)):g===DvtMarker.TRIANGLE_UP?(g=1.3*h,k.push(a-g),k.push(b+2*h+m),k.push(a+h),k.push(b-
n),k.push(a+2*h+g),k.push(b+2*h+m),this._underlay._setPolygon(k)):g===DvtMarker.TRIANGLE_DOWN?(g=1.3*h,k.push(a-g),k.push(b-m),k.push(a+2*h+g),k.push(b-m),k.push(a+h),k.push(b+2*h+n),this._underlay._setPolygon(k)):g===DvtMarker.DIAMOND&&(g=1.1*h,k.push(a-g),k.push(b+h),k.push(a+h),k.push(b-g),k.push(a+2*h+g),k.push(b+h),k.push(a+h),k.push(b+2*h+g),this._underlay._setPolygon(k))};
DvtSvgMarker.prototype._positionHumanUnderlay=function(a,b,d,e){var g=this._underlay.getType(),h=Math.max(d,e)/2,k=[],m=0.2*h,n=0.65*h;g===DvtMarker.SQUARE?(g=0.15*h,this._underlay._setX(a-g),this._underlay._setY(b-g),this._underlay._setWidth(2*(h+g)),this._underlay._setHeight(2*(h+g))):g===DvtMarker.CIRCLE?(g=0.2*h,this._underlay._setCx(a+d/2),this._underlay._setCy(b+e/2),this._underlay._setRX(h+g),this._underlay._setRY(h+g)):g===DvtMarker.TRIANGLE_UP?(g=0.5*h,k.push(a-g),k.push(b+2*h+m),k.push(a+
h),k.push(b-n),k.push(a+2*h+g),k.push(b+2*h+m),this._underlay._setPolygon(k)):g===DvtMarker.TRIANGLE_DOWN?(g=0.5*h,k.push(a-g),k.push(b-m),k.push(a+2*h+g),k.push(b-m),k.push(a+h),k.push(b+2*h+n),this._underlay._setPolygon(k)):g===DvtMarker.DIAMOND&&(g=0.4*h,k.push(a-g),k.push(b+h),k.push(a+h),k.push(b-g),k.push(a+2*h+g),k.push(b+h),k.push(a+h),k.push(b+2*h+g),this._underlay._setPolygon(k))};
DvtSvgMarker.prototype.setUnderlay=function(a,b,d){this._underlay=this.getObj().getContext().getImplFactory().newMarker(a);this._underlay.setFill(new DvtSolidFill(b,d));this._underlay.setObj(this.getObj());this.getType()===DvtMarker.HUMAN?this._positionHumanUnderlay(this._x,this._y,this._w,this._h):this._positionUnderlay(this._x,this._y,this._w,this._h);this.CreateChildGroupElem(!1);(a=this._childGroupElem.childNodes[0])||(a=null);this._childGroupElem.insertBefore(this._underlay.getOuterElem(),a)};
DvtSvgMarker.prototype.getUnderlay=function(){return this._underlay};DvtSvgMarker.prototype.setMouseEnabled=function(a){DvtSvgMarker.superclass.setMouseEnabled.call(this,a);this._childGroupElem&&this._childGroupElem.setAttributeNS(null,"pointer-events",a?"visiblePainted":"none")};DvtSvgMarker.prototype.setHollow=function(a,b){DvtSvgMarker.superclass.setHollow.call(this,a,b)};
DvtSvgMarker.prototype._setCustomMarker=function(a,b,d,e,g){if(this._isMultiPaths())return a=this._cloneMultiPaths(a,b,d,e,g),this.getObj().addChild(a),a;this._setSingleShape(a,b,d,e,g);return null};
DvtSvgMarker.prototype._setSingleShape=function(a,b,d,e,g){a=a.getImpl();a.getElem().nodeName==DvtSvgMarker.MARKER_PATH_ELEM_NAME&&this._setCmds(DvtPathUtils.transformPath(a._sCmds,b,d,e,g));(b=a.getFill())&&this.setFill(b);(b=a.getAlpha())&&this.setAlpha(b);if(a=a.getStroke())a=a.clone(),a.setWidth(Math.min(e,g)*a.getWidth()),this.setStroke(a)};DvtSvgMarker.prototype._setPoints=function(a){a!==this._points&&(this._points=a,this._elem.setAttributeNS(null,"points",a))};
DvtSvgMarker.prototype._setX1=function(a){this._elem.setAttributeNS(null,"x1",a)};DvtSvgMarker.prototype._setY1=function(a){this._elem.setAttributeNS(null,"y1",a)};DvtSvgMarker.prototype._setX2=function(a){this._elem.setAttributeNS(null,"x2",a)};DvtSvgMarker.prototype._setY2=function(a){this._elem.setAttributeNS(null,"y2",a)};DvtSvgMarker.prototype._setRX=function(a){this._elem.setAttributeNS(null,"rx",a)};DvtSvgMarker.prototype._setRY=function(a){this._elem.setAttributeNS(null,"ry",a)};
DvtSvgMarker.prototype._cloneMultiPaths=function(a,b,d,e,g){for(var h=this.getObj().getContext(),k=new DvtContainer(h,a.getId()+"_x"),m=a.getNumChildren(),n,o,q=0;q<m;q++)n=a.getChildAt(q),o=new DvtPath(h,DvtPathUtils.transformPath(n.getCmds(),b,d,e,g),n.getId()),n.getFill()&&o.setFill(n.getFill()),n.getAlpha()&&o.setAlpha(n.getAlpha()),n.getStroke()&&(n=n.getStroke().clone(),n.setWidth(Math.min(e,g)*n.getWidth()),o.setStroke(n)),k.addChild(o);return k};
DvtSvgMarker.prototype.addChild=function(a){this._isMultiPaths()?this._elem.appendChild(a.getOuterElem()):DvtSvgMarker.superclass.addChild.call(this,a)};DvtSvgMarker.prototype._isMultiPaths=function(){return"g"==this.getElem().nodeName&&this.getType()!=DvtMarker.IMAGE};
DvtSvgMarker.prototype.UpdateMarkerImage=function(){this.getObj().isHoverEffectShown()?this.getObj().isSelected()?this._setSrc(this.getObj().GetMarkerImage(DvtMarker.IMAGE_SOURCE_HOVER_SELECTED)):this._setSrc(this.getObj().GetMarkerImage(DvtMarker.IMAGE_SOURCE_HOVER)):this.getObj().isSelected()?this._setSrc(this.getObj().GetMarkerImage(DvtMarker.IMAGE_SOURCE_SELECTED)):this._setSrc(this.getObj().GetMarkerImage(DvtMarker.IMAGE_SOURCE))};
DvtSvgMarker.prototype._setDimensions=function(a){if(a&&a.width&&a.height){this._image.setAttributeNS(null,"width",a.width);this._image.setAttributeNS(null,"height",a.height);var b=this.getObj().getScaledWidth()/a.width,a=this.getObj().getScaledHeight()/a.height;this._image.setAttributeNS(null,"x",this._x/b);this._image.setAttributeNS(null,"y",this._y/a);var d=new DvtMatrix;d.scale(b,a);this._image.setAttributeNS(null,"transform","matrix("+d.getA()+","+d.getC()+","+d.getB()+","+d.getD()+","+d.getTx()+
","+d.getTy()+")")}};DvtSvgMarker.prototype.getDimensions=function(){if(this._type==DvtMarker.IMAGE&&!DvtAgent.getAgent().isWebkit()){var a=this.getObj().getScaledWidth(),b=this.getObj().getScaledHeight();return new DvtRectangle(this._x,this._y,a,b)}return DvtSvgMarker.superclass.getDimensions.call(this)};DvtSvgMarker.prototype.GetElemDimensionsWithStroke=function(){return this._type==DvtMarker.IMAGE&&!DvtAgent.getAgent().isWebkit()?this.getDimensions():DvtSvgMarker.superclass.GetElemDimensionsWithStroke.call(this)};
var DvtSvgOval=function(a,b,d,e,g){this._Init(a,b,d,e,g)};DvtObj.createSubclass(DvtSvgOval,DvtSvgCircle,"DvtSvgOval");DvtSvgOval.prototype._Init=function(a,b,d,e,g){DvtSvgOval.superclass._Init.call(this,a,b,d,g,"ellipse");this.setRx(d);this.setRy(e);this.setRadius(null)};DvtSvgOval.prototype.getRx=function(){return this._rx};DvtSvgOval.prototype.setRx=function(a){a!==this._rx&&(this._rx=a,this._elem.setAttributeNS(null,"rx",this._rx))};DvtSvgOval.prototype.getRy=function(){return this._ry};
DvtSvgOval.prototype.setRy=function(a){a!==this._ry&&(this._ry=a,this._elem.setAttributeNS(null,"ry",this._ry))};var DvtSvgPath=function(a,b){this._Init(a,b)};DvtObj.createSubclass(DvtSvgPath,DvtSvgShape,"DvtSvgPath");DvtSvgPath.prototype._Init=function(a,b){DvtSvgPath.superclass._Init.call(this,b,"path");DvtArrayUtils.isArray(a)?this.setCmds(DvtPathUtils.getPathString(a)):this.setCmds(a)};DvtSvgPath.prototype.getCmds=function(){return this._sCmds};
DvtSvgPath.prototype.setCmds=function(a){(this._sCmds=a)&&this._elem.setAttributeNS(null,"d",a)};DvtSvgPath.prototype.setMatrix=function(a){DvtSvgPath.superclass.setMatrix.call(this,a);DvtSvgDocumentUtils.fixWebkitFilters(this.getOuterElem())};DvtSvgPath.prototype.setAlpha=function(a){DvtSvgPath.superclass.setAlpha.call(this,a);DvtSvgDocumentUtils.fixWebkitFilters(this.getOuterElem())};DvtSvgPath.prototype.setFill=function(a){DvtSvgPath.superclass.setFill.call(this,a);DvtSvgDocumentUtils.fixWebkitFilters(this.getOuterElem())};
DvtSvgPath.prototype.setStroke=function(a){DvtSvgPath.superclass.setStroke.call(this,a);DvtSvgDocumentUtils.fixWebkitFilters(this.getOuterElem())};var DvtSvgPolygon=function(a,b){this._Init(a,b)};DvtObj.createSubclass(DvtSvgPolygon,DvtSvgShape,"DvtSvgPolygon");DvtSvgPolygon.prototype._Init=function(a,b){DvtSvgPolygon.superclass._Init.call(this,b,"polygon");this.setPoints(a)};DvtSvgPolygon.prototype.getPoints=function(){return this._arPoints};
DvtSvgPolygon.prototype.setPoints=function(a){this._arPoints=a;this._sPoints=DvtSvgShapeUtils.convertPointsArray(a);this._elem.setAttributeNS(null,"points",this._sPoints)};var DvtSvgPolyline=function(a,b){this._Init(a,b)};DvtObj.createSubclass(DvtSvgPolyline,DvtSvgShape,"DvtSvgPolyline");DvtSvgPolyline.prototype._Init=function(a,b){DvtSvgPolyline.superclass._Init.call(this,b,"polyline");this._elem.setAttributeNS(null,"fill","none");this.setPoints(a)};DvtSvgPolyline.prototype.getPoints=function(){return this._arPoints};
DvtSvgPolyline.prototype.setPoints=function(a){this._arPoints=a;this._sPoints=DvtSvgShapeUtils.convertPointsArray(a);this._elem.setAttributeNS(null,"points",this._sPoints)};var DvtSvgRect=function(a,b,d,e,g){this._Init(a,b,d,e,g)};DvtObj.createSubclass(DvtSvgRect,DvtSvgShape,"DvtSvgRect");DvtSvgRect._cssAttrs=["background-color","border-color","border-width"];DvtSvgRect.prototype._Init=function(a,b,d,e,g){DvtSvgRect.superclass._Init.call(this,g,"rect");this.setX(a);this.setY(b);this.setWidth(d);this.setHeight(e)};
DvtSvgRect.prototype.getX=function(){return this._x};DvtSvgRect.prototype.setX=function(a){a!==this._x&&(this._x=a,this._elem.setAttributeNS(null,"x",this._x))};DvtSvgRect.prototype.getY=function(){return this._y};DvtSvgRect.prototype.setY=function(a){a!==this._y&&(this._y=a,this._elem.setAttributeNS(null,"y",this._y))};DvtSvgRect.prototype.getWidth=function(){return this._w};DvtSvgRect.prototype.setWidth=function(a){a!==this._w&&(this._w=a,this._elem.setAttributeNS(null,"width",this._w))};
DvtSvgRect.prototype.getHeight=function(){return this._h};DvtSvgRect.prototype.setHeight=function(a){a!==this._h&&(this._h=a,this._elem.setAttributeNS(null,"height",this._h))};DvtSvgRect.prototype.getRx=function(){return this._rx};DvtSvgRect.prototype.setRx=function(a){a!==this._rx&&(this._rx=a,this._elem.setAttributeNS(null,"rx",this._rx))};DvtSvgRect.prototype.getRy=function(){return this._ry};DvtSvgRect.prototype.setRy=function(a){a!==this._ry&&(this._ry=a,this._elem.setAttributeNS(null,"ry",this._ry))};
DvtSvgRect.prototype.setCSSStyle=function(a){DvtSvgRect.superclass.setCSSStyle.call(this,a);var b=this._elem;if(a){var d=a["background-color"];d&&b.setAttributeNS(null,"fill",d);(d=a["border-color"])&&b.setAttributeNS(null,"stroke",d);(d=a["border-width"])&&b.setAttributeNS(null,"stroke-width",d);if(d=a["border-radius"])a=DvtStringUtils.trim(d).split(" "),0<a.length&&a[0]&&this.setRx(a[0]),1<a.length&&a[1]&&this.setRy(a[1])}else this._elem.removeAttributeNS(null,"style")};
DvtSvgRect._removeDefaultAttributes=function(a){a.removeAttributeNS(null,"fill");a.removeAttributeNS(null,"stroke");a.removeAttributeNS(null,"stroke-width")};var DvtSvgText=function(a,b,d,e){this._Init(a,b,d,e)};DvtObj.createSubclass(DvtSvgText,DvtSvgShape,"DvtSvgText");
DvtSvgText.prototype._Init=function(a,b,d,e){DvtSvgText.superclass._Init.call(this,e,"text");this.setTextString(a);this.setX(b);this.setY(d);this.getElem().setAttributeNS(null,"font-family","tahoma, sans-serif");this.getElem().setAttributeNS(null,"fill","rgb(0,0,0)");this.setCursor("default");DvtStyleUtils.isLocaleR2L()&&(b=DvtAgent.getAgent(),b.getPlatform()===DvtAgent.IE_PLATFORM?this.setTextString("\u202b"+a):b.isChrome()?this.alignEnd():this.getElem().setAttributeNS(null,"unicode-bidi","embed"));
this._baseline=null;this._bEditMode=!1;this._foElem=null;this._editPxWidth;this._editElem=null;this._editBorder=!1;this._editTooltip=null};DvtSvgText.prototype.getTextString=function(){var a;if(this._bEditMode&&this._editElem)a=this._editElem.value;else{var b=this.getElem().firstChild;b&&(a=b.nodeValue)}return a};
DvtSvgText.prototype.setTextString=function(a){var b=this.getElem().firstChild;null!==b?b.nodeValue=a:(b=document.createTextNode(a),this.getElem().appendChild(b));this._editElem&&(this._editElem.value=a)};
DvtSvgText.prototype.setAngle=function(a){this._angle=a%360;0<this._angle&&(this._angle=360-this._angle);0!=this._angle?this._cx&&this._cy&&this.getElem().setAttributeNS(null,"transform","rotate("+this._angle+" "+this._cx+","+this._cy+")"):(this.getElem().removeAttributeNS(null,"transform"),DvtAgent.getAgent().getPlatform()==DvtAgent.IE_PLATFORM&&this.getElem().setAttributeNS(null,"transform",null))};
DvtSvgText.prototype.setRotatePoint=function(a,b){this._cx=a;this._cy=b;this._angle&&this.getElem().setAttributeNS(null,"transform","rotate("+this._angle+" "+a+","+b+")")};DvtSvgText.prototype.getX=function(){return this._x};DvtSvgText.prototype.setX=function(a){a!==this._x&&(this._x=a,this.getElem().setAttributeNS(null,"x",a))};DvtSvgText.prototype.getY=function(){return this._y};DvtSvgText.prototype.setY=function(a){a!==this._y&&(this._y=a,this.getElem().setAttributeNS(null,"y",a))};
DvtSvgText.prototype.setFontSize=function(a){this.getElem().setAttributeNS(null,"font-size",a);this._setMatrix(this.getMatrix(),a)};DvtSvgText.prototype.alignStart=function(){this.getElem().setAttributeNS(null,"text-anchor","start")};DvtSvgText.prototype.alignMiddle=function(){this.getElem().setAttributeNS(null,"text-anchor","middle")};DvtSvgText.prototype.alignEnd=function(){this.getElem().setAttributeNS(null,"text-anchor","end")};
DvtSvgText.prototype.alignTop=function(){DvtAgent.getAgent().getPlatform()==DvtAgent.IE_PLATFORM&&(this._baseline=1,this._setMatrix(this.getMatrix(),null));this.getElem().setAttributeNS(null,"dominant-baseline","text-before-edge")};DvtSvgText.prototype.alignCenter=function(){DvtAgent.getAgent().getPlatform()==DvtAgent.IE_PLATFORM&&(this._baseline=1/3,this._setMatrix(this.getMatrix(),null));this.getElem().setAttributeNS(null,"dominant-baseline","middle")};
DvtSvgText.prototype.alignBottom=function(){DvtAgent.getAgent().getPlatform()==DvtAgent.IE_PLATFORM&&(this._baseline=1/3,this._setMatrix(this.getMatrix(),null));this.getElem().setAttributeNS(null,"dominant-baseline","text-after-edge")};DvtSvgText.prototype.alignBaseline=function(){DvtAgent.getAgent().getPlatform()==DvtAgent.IE_PLATFORM&&(this._baseline=0,this._setMatrix(this.getMatrix(),null));this.getElem().removeAttributeNS(null,"dominant-baseline")};
DvtSvgText.prototype.setText=function(a){var b=this.getElem().firstChild;null!==b?b.nodeValue=a:(b=document.createTextNode(a),this.getElem().appendChild(b));this._bEditMode&&(this._editElem.value=a,DvtSvgDocumentUtils.fixWebkitFilters(this._foElem))};DvtSvgText.prototype.getText=function(){if(this._bEditMode)return this._editElem.value;var a=this.getElem().firstChild;if(a)return a.nodeValue};
DvtSvgText.prototype.setCSSStyle=function(a){DvtSvgText.superclass.setCSSStyle.call(this,a);var b=this.getOuterElem();if(a){var d=a.color;d&&b.setAttributeNS(null,"fill",d);(d=a["font-family"])&&b.setAttributeNS(null,"font-family",d);if(d=a["font-size"])b.setAttributeNS(null,"font-size",d),this._setMatrix(this.getMatrix(),d);(d=a["font-style"])&&b.setAttributeNS(null,"font-style",d);(d=a["font-weight"])&&b.setAttributeNS(null,"font-weight",d);(d=a["text-decoration"])&&b.setAttributeNS(null,"text-decoration",
d);(d=a.cursor)&&b.setAttributeNS(null,"cursor",d);color=a.color}};DvtSvgText.prototype.getEditMode=function(){return this._bEditMode};
DvtSvgText.prototype.setEditMode=function(a){if(this._bEditMode!=a){var b=this.getObj(),d=b.getParent()._impl,e=this.getElem();!a&&this._foElem?(this.setTextString(this._editElem.value),d._elem.removeChild(this._foElem),d._elem.appendChild(e),this._bEventListener&&(b=this._editElem,b.removeEventListener("keypress",DvtSvgText._editFilter,!1),b.removeEventListener("textInput",DvtSvgText._editFilter,!1),b.removeEventListener("textinput",DvtSvgText._editFilter,!1),this._bEventListener=!1)):(this._foElem||
this._buildFO(b,e),d.getElem().removeChild(e),d.getElem().appendChild(this._foElem),b=this._editElem,b.addEventListener&&(b.addEventListener("keypress",DvtSvgText._editFilter,!1),b.addEventListener("textInput",DvtSvgText._editFilter,!1),b.addEventListener("textinput",DvtSvgText._editFilter,!1),this._bEventListener=!0));this._bEditMode=a}};DvtSvgText.prototype.getEditWidth=function(){return this._editPxWidth};DvtSvgText.prototype.setEditWidth=function(a){this._editPxWidth=a};
DvtSvgText.prototype.setEditTooltip=function(a){this._editTooltip=a};DvtSvgText._editFilter=function(a){a=a||window.event;if(!("textinput"==a.type||"textInput"==a.type)){var b=a.charCode||a.keyCode;32>b&&13==b&&a.preventDefault&&a.preventDefault()}};DvtSvgText.prototype.selectEditText=function(){this._editElem&&this._editElem.select()};DvtSvgText.prototype.focusEditText=function(){this._editElem&&this._editElem.focus()};
DvtSvgText.prototype._removeDefaultFontAttributes=function(a){a.removeAttributeNS(null,"font-family");a.removeAttributeNS(null,"fill")};
DvtSvgText.prototype._createTSpan=function(a,b){var d=DvtSvgShapeUtils.createElement("tspan",void 0);b?b.appendChild(d):this.getElem().appendChild(d);var e=this.getElem().getAttributeNS(null,"dominant-baseline");e&&d.setAttributeNS(null,"dominant-baseline",e);(e=this.getElem().getAttributeNS(null,"text-anchor"))&&d.setAttributeNS(null,"text-anchor",e);a&&this._addTextNode(d,a);return d};DvtSvgText.prototype._createTextNode=function(a){this._addTextNode(this.getElem(),a)};
DvtSvgText.prototype._addTextNode=function(a,b){var d=document.createTextNode(b);a?a.appendChild(d):this.getElem().appendChild(d)};DvtSvgText.prototype._adjustTextBidi=function(){this.getDimensions()};DvtSvgText.prototype._adjustBaseline=function(a){var b=0;null!=this._baseline&&(a||(a=this.getElem().getAttributeNS(null,"font-size"),a||(a=this.getOuterElem().getAttributeNS(null,"font-size"))||(a="11")),b=this._baseline*parseFloat(a));return b};
DvtSvgText.prototype._setMatrix=function(a,b){if(null!=this._baseline&&this.getObj()){a||(a=new DvtMatrix(this.getObj().getContext()));var d=new DvtMatrix(this.getObj().getContext(),null,null,null,null,null,this._adjustBaseline(b));d.concat(a);a=d}DvtSvgText.superclass.setMatrix.call(this,a)};DvtSvgText.prototype.getMatrix=function(){return this.getObj()?this.getObj().getMatrix():null};DvtSvgText.prototype.setMatrix=function(a){this._setMatrix(a,null)};
DvtSvgText.prototype.getDimensions=function(){var a=DvtSvgText.superclass.getDimensions.call(this);a&&(a.y+=this._adjustBaseline(null));return a};
DvtSvgText.prototype._buildFO=function(a,b){var d=DvtSvgShapeUtils.createElement("foreignObject");this._foElem=d;this._foElem._obj=this;var e=document.createElement("textArea");this._editElem=e;this._editElem._obj=this;var g=a.getDimensions(),h=this.getText(),k=a.getCSSStyle(),m;m=0;k||(k=b.getAttributeNS(null,"font-size")||"11",m=b.getAttributeNS(null,"font-family"),k="font-family:"+m+"; font-size: "+k+"px;");(this.getX()||0==this.getX())&&d.setAttributeNS(null,"x",this.getX());(this.getY()||0==
this.getY())&&d.setAttributeNS(null,"y",this.getY());if(this._editPxWidth){m=new DvtText(a.getContext(),"M");m.setCSSStyle(k);m.alignCenter();a.getParent().addChild(m);var n=m.getDimensions();a.getParent().removeChild(m);m=this._editPxWidth/n.w}else 0==g.w&&(g.w=10),this._editPxWidth=2*g.w,m=2;d.setAttributeNS(null,"width",this._editPxWidth);m=Math.floor(1.5*m);d.setAttributeNS(null,"height",g.h);e.setAttribute("rows","1");e.setAttribute("cols",m);e.value=h?h:"";d.appendChild(e);this._editTooltip&&
e.setAttribute("title",this._editTooltip);k+=" color:"+b.getAttributeNS(null,"fill")+";";k=k+" overflow-x: hidden; border: none; border-width: 0px; margin: 0px; resize: none; outline: none;"+(" dominant-baseline:"+b.getAttributeNS(null,"dominant-baseline")+";");k+=" top: 0px; left: 0px; vertical-align: baseline; outline-offset: 0px;";k=DvtAgent.getAgent().isRightToLeft()?k+" text-align: right; padding: 0px 2px 0px 0px;":k+" text-align: left; padding: 0px 0px 0px 2px;";e.setAttribute("style",k);d=
DvtAgent.getAgent();(d.isChrome()||d.isSafari())&&e.setAttribute("wrap","off");return e};DvtSvgText.prototype.AddElemListener=function(a,b,d){this.getEditMode()&&this._editElem&&(this._editElem.addEventListener(a,b,d),"touchend"==a&&this._editElem.addEventListener("touchcancel",b,d));DvtSvgText.superclass.AddElemListener.call(this,a,b,d)};
DvtSvgText.prototype.SetElemMatrix=function(a){this.getEditMode()&&this._foElem&&this._foElem.setAttributeNS(null,"transform",a);DvtSvgText.superclass.SetElemMatrix.call(this,a)};var DvtSvgTextArea=function(a,b,d){this._Init(a,b,d)};DvtObj.createSubclass(DvtSvgTextArea,DvtSvgText,"DvtSvgTextArea");DvtSvgTextArea.prototype._Init=function(a,b,d){void 0===a&&void 0===b&&(b=a=0,this._notGraph=!0);DvtSvgTextArea.superclass._Init.call(this,"",a,b,d);this._leading=0};
DvtSvgTextArea.prototype.setText=function(a,b){var d;DvtArrayUtils.isArray(a)?1==a.length&&(d=a[0]):d=a;var e=this.getObj(),g=this.getElem(),h;if("g"==g.nodeName){var k=g.childNodes;k&&0<k.length&&"text"==k[0].nodeName&&(h=k[0].getAttributeNS(null,"dominant-baseline"))}DvtDomXmlNode._removeTextNodes(g);if(0===e.getNumChildren()&&d)(g=this.getElem().firstChild)?g.nodeValue=d:this._createTextNode(d);else{var k=parseFloat(g.getAttributeNS(null,"x")),m=parseFloat(g.getAttributeNS(null,"y"));if(d)this._addLine(e,
d,k,m);else{for(var n=d=0,o=new DvtRectangle(k,m,e._getMaxTextWidth(),e._getMaxTextHeight()),q=this._getTextAlign(),s=0;s<a.length;s++)m=b&&b[s]?b[s]:o,"end"==q?d=k+e._getMaxTextWidth()-m.w:"middle"==q&&(d=k+(e._getMaxTextWidth()-m.w)/2),this._addTextLine(e,a[s],d,n,h),n+=m.h;e=this.getOuterElem();e.nodeName&&"g"==e.nodeName&&e!==g&&(e.removeChild(g),(g=this.getCSSStyle())&&this.setCSSStyle(g))}}};
DvtSvgTextArea.prototype.getText=function(){var a=this.getObj(),b=a.getNumChildren();if(0==b)return DvtSvgTextArea.superclass.getText.call(this);for(var d,e="",g=0;g<b;g++)d=a.getChildAt(g),e+=d.getText();return e};DvtSvgTextArea.prototype.getLeading=function(){return this._leading};DvtSvgTextArea.prototype.setLeading=function(a){this._leading=a};DvtSvgTextArea.prototype._addLine=function(a,b,d,e){a=this._createTSpan(b);a.setAttributeNS(null,"x",d);a.setAttributeNS(null,"dy",e+this.getLeading())};
DvtSvgTextArea.prototype._addTextLine=function(a,b,d,e,g){a=new DvtSvgText(b,d,e,null);b=this.getElem().firstChild;null==b&&(b=this.getElem());(d=b.getAttributeNS(null,"dominant-baseline"))?a.getElem().setAttributeNS(null,"dominant-baseline",d):g&&a.getElem().setAttributeNS(null,"dominant-baseline",g);(d=b.getAttributeNS(null,"text-anchor"))&&a.getElem().setAttributeNS(null,"text-anchor",d);(d=b.getAttributeNS(null,"font-family"))&&a.getElem().setAttributeNS(null,"font-family",d);(d=b.getAttributeNS(null,
"font-size"))&&a.getElem().setAttributeNS(null,"font-size",d);(d=b.getAttributeNS(null,"fill"))&&a.getElem().setAttributeNS(null,"fill",d);(d=b.getAttributeNS(null,"cursor"))&&a.getElem().setAttributeNS(null,"cursor",d);DvtStyleUtils.isLocaleR2L()&&(d=b.getAttributeNS(null,"unicode-bidi"))&&a.getElem().setAttributeNS(null,"unicode-bidi",d);this.addChild(a)};
DvtSvgTextArea.prototype._getTextAlign=function(){var a;this._notGraph&&(a=this.getCSSStyle()["text-align"],"left"==a?a="start":"right"==a?a="end":"center"==a?a="middle":DvtStyleUtils.isLocaleR2L()&&(a="end"));return a};DvtSvgTextArea.prototype.setCursor=function(a){DvtSvgTextArea.superclass.setCursor.call(this,a);var b=this.getElem();if(null!=b)for(var d=0;d<b.childElementCount;d++)b.childNodes[d].setAttributeNS(null,"cursor",a)};var DvtSvgTextFormatted=function(a,b,d){this._Init(a,b,d)};
DvtObj.createSubclass(DvtSvgTextFormatted,DvtSvgText,"DvtSvgTextFormatted");DvtSvgTextFormatted.BOLD="b";DvtSvgTextFormatted.BREAK="br";DvtSvgTextFormatted.ITALIC="i";DvtSvgTextFormatted.LIST_ITEM="li";DvtSvgTextFormatted.ORDERED_LIST="ol";DvtSvgTextFormatted.PARAGRAPH="p";DvtSvgTextFormatted.UNORDERED_LIST="ul";DvtSvgTextFormatted.prototype._Init=function(a,b,d){DvtSvgTextFormatted.superclass._Init.call(this,"",a,b,d)};
DvtSvgTextFormatted.prototype.setText=function(a){var b=this.getObj();if(a=(new DvtXmlParser(b.getContext())).parse("<root>"+a+"</root>"))this._bEnableVertIndent=!1,this._parseChildren(a,null,0,!1,!1)};
DvtSvgTextFormatted.prototype._parseChildren=function(a,b,d,e,g){for(var a=a.getAllChildNodes(),h=a.length,k=!1,m=0;m<h;m++){var n=a[m];if(n){var o=n.getName();k&&o!==DvtSvgTextFormatted.PARAGRAPH&&o!==DvtSvgTextFormatted.ORDERED_LIST&&o!==DvtSvgTextFormatted.UNORDERED_LIST&&(b=this._handleMarkup(DvtSvgTextFormatted.PARAGRAPH,b));k=!1;if("#text"===o)n=n.getNodeValue(),g&&(n="- "+n),this._addTextNode(b,n),this._bEnableVertIndent=!0;else{var q=this._handleMarkup(o,b,d,e),s=d,t=!1;if(o===DvtSvgTextFormatted.ORDERED_LIST||
o===DvtSvgTextFormatted.UNORDERED_LIST)0==s&&(t=!0),s++;this._parseChildren(n,q,s,t,o===DvtSvgTextFormatted.LIST_ITEM);o===DvtSvgTextFormatted.BREAK&&(b=q);if(o===DvtSvgTextFormatted.PARAGRAPH||(o===DvtSvgTextFormatted.ORDERED_LIST||o===DvtSvgTextFormatted.UNORDERED_LIST)&&1>d)k=!0;o===DvtSvgTextFormatted.LIST_ITEM&&(e=!1)}}}};
DvtSvgTextFormatted.prototype._handleMarkup=function(a,b,d,e){b=this._createTSpan(null,b);if(a===DvtSvgTextFormatted.BOLD)b.setAttributeNS(null,"font-weight","bold");else if(a===DvtSvgTextFormatted.ITALIC)b.setAttributeNS(null,"font-style","italic");else if(a===DvtSvgTextFormatted.BREAK)b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"dy","1em");else if(a===DvtSvgTextFormatted.PARAGRAPH)this._bEnableVertIndent&&(b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"dy","2em")),this._bEnableVertIndent=
!0;else if(!(a===DvtSvgTextFormatted.ORDERED_LIST||a===DvtSvgTextFormatted.UNORDERED_LIST)&&a===DvtSvgTextFormatted.LIST_ITEM)b.setAttributeNS(null,"x",d+"em"),this._bEnableVertIndent&&(e?b.setAttributeNS(null,"dy","2em"):b.setAttributeNS(null,"dy","1em")),this._bEnableVertIndent=!0;return b};